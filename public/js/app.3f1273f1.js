(function(t){function e(e){for(var o,a,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},a={1:0},i={1:0},s=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{2:"df39c46e",3:"81cc4e73",4:"74f479a8",5:"ba99d335",6:"c38aab5e",7:"34437678",8:"33f16f1b",9:"67fe16d0",10:"965fa956",11:"c2ae576a"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={2:1,3:1,4:1,5:1,6:1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var o="css/"+({}[t]||t)+"."+{2:"65b7acf1",3:"7cf18882",4:"2b972e3b",5:"2b972e3b",6:"2b972e3b",7:"31d6cfe0",8:"31d6cfe0",9:"31d6cfe0",10:"31d6cfe0",11:"31d6cfe0"}[t]+".css",i=c.p+o,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var l=s[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===i))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++)if(l=d[r],u=l.getAttribute("data-href"),u===o||u===i)return e();var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var o=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=o,delete a[t],f.parentNode.removeChild(f),n(s)},f.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[t]=0})));var o=i[t];if(0!==o)if(o)e.push(o[2]);else{var s=new Promise((function(e,n){o=i[t]=[e,n]}));e.push(o[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(f);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",d.name="ChunkLoadError",d.type=o,d.request=a,n[1](d)}i[t]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;s.push([0,0]),n()})({0:function(t,e,n){t.exports=n("2f39")},"0047":function(t,e,n){},"083a":function(t,e,n){},"0f70":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-dialog",{ref:"dialog",on:{hide:t.onDialogHide}},[n("q-card",{staticClass:"q-dialog-plugin"},[t.icon?n("q-item-section",{staticClass:"text-center"},[n("div",{staticClass:"sa"},[t.isIcon("error")?n("div",{staticClass:"sa-error"},[n("div",{staticClass:"sa-error-x"},[n("div",{staticClass:"sa-error-left"}),n("div",{staticClass:"sa-error-right"})]),n("div",{staticClass:"sa-error-placeholder"}),n("div",{staticClass:"sa-error-fix"})]):t.isIcon("warning")?n("div",{staticClass:"sa-warning"},[n("div",{staticClass:"sa-warning-body"}),n("div",{staticClass:"sa-warning-dot"})]):t.isIcon("info")?n("div",{staticClass:"sa-info"},[n("div",{staticClass:"sa-info-body"}),n("div",{staticClass:"sa-info-dot"})]):t.isIcon("loading")?n("div",{staticClass:"sa-loading"},[n("div",{staticClass:"sa-loading-body"})]):t.isIcon("success")?n("div",{staticClass:"sa-success"},[n("div",{staticClass:"sa-success-tip"}),n("div",{staticClass:"sa-success-long"}),n("div",{staticClass:"sa-success-placeholder"}),n("div",{staticClass:"sa-success-fix"})]):t._e()])]):t._e(),t.title?n("q-card-section",{staticClass:"text-center"},[t.title?n("div",{staticClass:"text-h6"},[t._v("\n        "+t._s(t.title)+"\n      ")]):t._e(),t.subTitle?n("div",{staticClass:"text-subtitle2"},[t._v("\n        "+t._s(t.subTitle)+"\n      ")]):t._e()]):t._e(),n("q-card-section",{class:"string"===typeof t.msg||1===t.msg.length&&"string"===typeof t.msg[0]?"text-center":""},["string"===typeof t.msg?n("span",[t._v(t._s(t.msg))]):1===t.msg.length&&"string"===typeof t.msg[0]?n("span",[t._v(t._s(t.msg[0]))]):[n("q-list",{attrs:{bordered:"",separator:""}},t._l(t.msg,(function(e,o){return n("q-item",{key:o},[n("q-item-section",{attrs:{avatar:""}},[e.icon?n("q-icon",{attrs:{color:e.color?e.color:"",name:"fal fa-"+e.icon}}):t._e()],1),n("q-item-section",[t._v(t._s(e.text))])],1)})),1)]],2),n("q-card-actions",{staticClass:"q-pa-lg",attrs:{align:"around"}},[t.cancel?n("q-btn",{attrs:{flat:"",color:"grey",label:t.cancel.label},on:{click:t.onCancelClick}}):t._e(),n("q-btn",{attrs:{flat:"",color:"positive",label:t.ok.label},on:{click:t.onOKClick}})],1)],1)],1)},a=[],i=(n("c975"),["success","warning","error","info","loading","none"]),s={data:function(){return{msgKey:0}},props:{icon:{type:String,default:"none",validator:function(t){return-1!==i.indexOf(t)}},msg:{},title:{type:String,default:""},subTitle:{type:String,default:""},ok:{type:Object,default:function(){return{label:"Ok"}}},cancel:{type:Object}},methods:{show:function(){console.func("components/BaseAlert:methods.show()",arguments),this.$refs.dialog.show()},hide:function(){console.func("components/BaseAlert:methods.hide()",arguments),this.$refs.dialog.hide()},onDialogHide:function(){console.func("components/BaseAlert:methods.onDialogHide()",arguments),this.$emit("hide")},onOKClick:function(){console.func("components/BaseAlert:methods.onOKClick()",arguments),this.$emit("ok"),this.hide()},onCancelClick:function(){console.func("components/BaseAlert:methods.onCancelClick()",arguments),this.$emit("cancel"),this.hide()},isIcon:function(t){return console.func("components/BaseAlert:methods.isIcon()",arguments),t===this.icon}}},r=s,c=(n("a23f"),n("2877")),l=n("24e8"),u=n("f09f"),d=n("4074"),f=n("a370"),p=n("1c1c"),m=n("66e5"),h=n("0016"),g=n("4b7e"),b=n("9c40"),v=n("eebe"),y=n.n(v),w=Object(c["a"])(r,o,a,!1,null,"ae7645ae",null);e["default"]=w.exports,y()(w,"components",{QDialog:l["a"],QCard:u["a"],QItemSection:d["a"],QCardSection:f["a"],QList:p["a"],QItem:m["a"],QIcon:h["a"],QCardActions:g["a"],QBtn:b["a"]})},1879:function(t,e){},"1d805":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("div",[n("table-dialog",{ref:"dialog",attrs:{height:t.edit?"calc(100vh - 130px)":"100vh",edit:t.edit,add:t.add,loading:t.visiable,title:t.title},on:{submit:t.onSubmit,update:t.onUpdate}},[n("template",{slot:"body"},[n("div",{staticClass:"col-xs-12 q-pt-none"},[[n("div",[n("q-tabs",{staticClass:"text-primary",attrs:{"inline-label":"","no-caps":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("q-tab",{attrs:{name:"essential",label:"Essential Information"}}),n("q-tab",{attrs:{disable:t.add,name:"contacts",label:"Contacts"}}),n("q-tab",{attrs:{disable:t.add,name:"locations",label:"Locations"}}),n("q-tab",{attrs:{disable:"",name:"activity",label:"Activity"}})],1),n("q-separator",{attrs:{size:"2px"}})],1)],n("q-tab-panels",{staticClass:"bg-transparent",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("q-tab-panel",{attrs:{name:"essential"}},[n("div",{staticClass:"row q-col-gutter-md"},[n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-select",{attrs:{readonly:!t.edit,label:"Type","use-chips":"","map-options":"",options:["Company","Individual"]},model:{value:t.data.customer.type,callback:function(e){t.$set(t.data.customer,"type",e)},expression:"data.customer.type"}})],1),n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Label"},model:{value:t.data.customer.label,callback:function(e){t.$set(t.data.customer,"label",e)},expression:"data.customer.label"}})],1),n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-select",{attrs:{readonly:!t.edit,label:"Account Manager","use-chips":"","use-input":"","map-options":"",options:t.data.account_manager,"option-value":"id","option-label":"name","emit-value":""},on:{filter:t.onManagerLoad},model:{value:t.data.customer.account_manager_id,callback:function(e){t.$set(t.data.customer,"account_manager_id",e)},expression:"data.customer.account_manager_id"}})],1),n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-select",{attrs:{readonly:!t.edit,label:"Parent Company","use-chips":"","use-input":"","map-options":"",options:t.data.parent_company,"option-value":"id","option-label":"label","input-debounce":"0","emit-value":""},on:{filter:t.onCompanyLoad},model:{value:t.data.customer.parent_company_id,callback:function(e){t.$set(t.data.customer,"parent_company_id",e)},expression:"data.customer.parent_company_id"}})],1),n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"General Contact Number"},model:{value:t.data.customer.general_contact_number,callback:function(e){t.$set(t.data.customer,"general_contact_number",e)},expression:"data.customer.general_contact_number"}})],1),n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"General Email Address"},model:{value:t.data.customer.general_email_address,callback:function(e){t.$set(t.data.customer,"general_email_address",e)},expression:"data.customer.general_email_address"}})],1),n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-select",{attrs:{readonly:!t.edit,label:"Referral Source","use-chips":"","use-input":"","map-options":"",options:t.data.referral_source,"option-value":"id","option-label":"name","emit-value":"","input-debounce":"0"},on:{filter:t.onReferralLoad,"new-value":t.createReferral},model:{value:t.data.customer.referral_source_id,callback:function(e){t.$set(t.data.customer,"referral_source_id",e)},expression:"data.customer.referral_source_id"}})],1),"Company"==t.data.customer.type?n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-input",{attrs:{readonly:!t.edit,label:"Company Name"},model:{value:t.data.customer.company_name,callback:function(e){t.$set(t.data.customer,"company_name",e)},expression:"data.customer.company_name"}})],1):t._e(),"Company"==t.data.customer.type?n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-input",{attrs:{readonly:!t.edit,label:"Company Number"},model:{value:t.data.customer.company_number,callback:function(e){t.$set(t.data.customer,"company_number",e)},expression:"data.customer.company_number"}})],1):t._e(),n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-select",{attrs:{readonly:!t.edit,label:"Status","use-chips":"","map-options":"",options:["Active","On Stop"]},model:{value:t.data.customer.status,callback:function(e){t.$set(t.data.customer,"status",e)},expression:"data.customer.status"}})],1)])]),t.add?t._e():n("q-tab-panel",{attrs:{name:"contacts"}},[n("contacts",{attrs:{customer:t.data.customer.id,rowsPerPage:15}})],1),t.add?t._e():n("q-tab-panel",{attrs:{name:"locations"}},[n("locations",{attrs:{customer:t.data.customer.id,rowsPerPage:15}})],1),t.add?t._e():n("q-tab-panel",{attrs:{name:"activity"}},[n("activities",{attrs:{customer:t.data.customer.id,rowsPerPage:15}})],1)],1)],2)])],2)],1)],n("q-table",{staticClass:"main-table",attrs:{data:t.table.data,columns:t.table.columns,flat:"",bordered:t.bordered,"row-key":"id","hide-pagination":t.hidePagination,"rows-per-page-options":t.rowsPerPageOptions,filter:t.syncPagination.filter,pagination:t.syncPagination,loading:t.loading,selection:"multiple",selected:t.selected},on:{"update:pagination":function(e){t.syncPagination=e},"update:selected":function(e){t.selected=e},request:t.onRequest},scopedSlots:t._u([{key:"top",fn:function(){return[n("div",{staticClass:"col"},[n("div",{staticClass:"row q-col-gutter-md"},[n("div",{staticClass:"col-sm-8 col-xs-12"},[n("q-btn-group",{staticClass:"q-mr-sm",attrs:{outline:""}},[[n("q-btn",{staticClass:"q-pa-sm",attrs:{squared:"",icon:"fal fa-user-plus",color:"positive",size:"10px"},on:{click:t.onAdd}},[n("tooltip",{attrs:{position:"top"}},[t._v("Add customer")])],1),t.syncPagination.deleted?n("q-btn",{staticClass:"q-pa-sm",attrs:{disabled:0==t.selected.length,squared:"",icon:"fal fa-trash-undo",color:"warning",size:"10px"},on:{click:t.onRestoreMulti}},[n("tooltip",{attrs:{position:"top"}},[t._v("Restore selected customer")])],1):n("q-btn",{staticClass:"q-pa-sm",attrs:{disabled:0==t.selected.length,squared:"",icon:"delete",color:"negative",size:"10px"},on:{click:t.onDeleteMulti}},[n("tooltip",{attrs:{position:"top"}},[t._v("Delete selected customer")])],1)]],2),t.selected?n("q-toggle",{attrs:{"checked-icon":"delete",color:"red",label:"View Deleted"},model:{value:t.syncPagination.deleted,callback:function(e){t.$set(t.syncPagination,"deleted",e)},expression:"syncPagination.deleted"}}):t._e()],1),n("div",{staticClass:"col-sm-4 col-xs-12 text-right"},[n("q-input",{attrs:{outlined:"",square:"",placeholder:"Quick search",hint:"First name / Surname / Email",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[""===t.syncPagination.filter?n("q-icon",{attrs:{name:"fal fa-search",size:"14px"}}):n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"fal fa-times",size:"14px"},on:{click:function(e){t.syncPagination.filter=""}}})]},proxy:!0}]),model:{value:t.syncPagination.filter,callback:function(e){t.$set(t.syncPagination,"filter",e)},expression:"syncPagination.filter"}})],1)])])]},proxy:!0},{key:"body-cell-avatar",fn:function(t){return[n("q-td",{attrs:{props:t}},[n("avatar",{attrs:{customer:t.row,size:"30px"}})],1)]}},{key:"body-cell-actions",fn:function(e){return[n("q-td",{attrs:{props:e}},[n("q-btn",{attrs:{flat:"",dense:"",icon:"fal fa-ellipsis-h"}},[n("q-menu",{attrs:{self:"top middle",dense:"",square:""}},[n("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[!t.syncPagination.deleted&&t.permissions.includes("Show")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onView(e.row)}}},[n("q-item-section",[t._v("view")])],1):t._e(),!t.syncPagination.deleted&&t.permissions.includes("Update")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onEdit(e.row)}}},[n("q-item-section",[t._v("edit")])],1):t._e(),!t.syncPagination.deleted&&t.permissions.includes("Destroy")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onDelete(e.row)}}},[n("q-item-section",[t._v("delete")])],1):t._e(),t.syncPagination.deleted&&t.permissions.includes("Destroy")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onRestore(e.row)}}},[n("q-item-section",[t._v("restore")])],1):t._e()],1)],1)],1)],1)]}}])})],2)},a=[],i=(n("4160"),n("d81d"),n("159b"),n("ded3")),s=n.n(i),r=n("2f62"),c={data:function(){return{data:{customer:{type:"Individual"},parent_company:[],referral_source:[],account_manager:[]},selected:[],title:"",visiable:!1,add:!1,edit:!0,tab:"essential"}},props:{table:{required:!0,type:Object},pagination:{required:!0,type:Object},actions:{required:!1,type:Object,default:function(){return{status:!0,view:!0,edit:!0,delete:!0}}},hidePagination:{required:!1,type:Boolean,default:function(){return!1}},rowsPerPageOptions:{required:!1,type:Array,default:function(){return[15,30,50]}},filter:{required:!1,type:Boolean,default:function(){return!0}},bordered:{required:!1,type:Boolean,default:function(){return!1}},loading:{required:!1,type:Boolean,default:function(){return!1}}},watch:{"syncPagination.deleted":function(t){this.onRequest({pagination:this.syncPagination})}},methods:s()(s()({},Object(r["b"])("customer",["List","Show","Store","Update","Delete","DeleteMulti","Restore","RestoreMulti"])),{},{onRequest:function(t){console.func("components/table/customers:methods.onRequest()",arguments),this.$emit("request",t)},onCompanyLoad:function(t,e){var n=this;this.List({filter:t,limit:100}).then((function(t){t.data.forEach((function(t){n.data.parent_company.push(t)})),e()}))},onManagerLoad:function(t,e){var n=this;this.$store.dispatch("user/List",{filter:t,limit:100}).then((function(t){t.data.forEach((function(t){n.data.account_manager.push(t)})),e()}))},onReferralLoad:function(t,e){var n=this;this.$store.dispatch("referral/List",{filter:t,limit:100}).then((function(t){t.data.forEach((function(t){n.data.referral_source.push(t)})),e()}))},createReferral:function(t,e){t.length>2&&e(t,"add-unique")},onAdd:function(t){console.func("components/table/customers:methods.onAdd()",arguments),this.title="Add New Customer",this.data.customer={type:"Individual"},this.add=!0,this.edit=!0,this.$refs.dialog.show()},onSubmit:function(t){var e=this;console.func("components/table/customers:methods.onSubmit()",arguments),this.Store(this.data.customer).then((function(){e.$refs.dialog.hide()})).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))},onView:function(t){var e=this;console.func("components/table/customers:methods.onView()",arguments),this.title="".concat(t.label," Details"),this.add=!1,this.edit=!1,this.Show(t.id).then((function(t){e.data.customer=t,e.data.parent_company.push(t.parent_company),e.data.referral_source.push(t.referral_source),e.data.account_manager.push(t.account_manager),e.$refs.dialog.show()}))},onEdit:function(t){var e=this;console.func("components/table/customers:methods.onEdit()",arguments),this.title="Edit ".concat(t.label," Details"),this.add=!1,this.edit=!0,this.Show(t.id).then((function(t){e.data.customer=t,e.data.parent_company.push(t.parent_company),e.data.referral_source.push(t.referral_source),e.data.account_manager.push(t.account_manager),e.$refs.dialog.show()}))},onUpdate:function(){var t=this;console.func("components/table/customers:methods.onUpdate()",arguments),this.Update(this.data.customer).then((function(){t.$refs.dialog.hide()})).catch((function(e){t.visiable=!1,t.$core.error(e,{title:"Validation Error"})}))},onDelete:function(t){var e=this;console.func("components/table/customers:methods.onDelete()",arguments),this.$core.confirm("Are you sure you want to delete this customer?").then((function(){e.Delete(t).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onDeleteMulti:function(t){var e=this;console.func("components/table/customers:methods.onDeleteMulti()",arguments);var n=this.$_.map(this.selected,"id");this.$core.confirm("Are you sure you want to delete the "+n.length+" selected customer"+(n.length>1?"s":"")+"?").then((function(){e.DeleteMulti({customers:n}).then((function(){e.selected=[],e.onRequest({pagination:e.syncPagination})})).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onRestore:function(t){var e=this;console.func("components/table/customers:methods.onRestore()",arguments),this.$core.confirm("Are you sure you want to restore this customer?").then((function(){e.Restore(t).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onRestoreMulti:function(t){var e=this;console.func("components/table/customers:methods.onRestoreMulti()",arguments);var n=this.$_.map(this.selected,"id");this.$core.confirm("Are you sure you want to restore the "+n.length+" selected customer"+(n.length>1?"s":"")+"?").then((function(){e.RestoreMulti({customers:n}).then((function(){e.selected=[],e.onRequest({pagination:e.syncPagination})})).catch((function(t){e.$core.error(t,{title:"Error"})}))}))}}),computed:{syncPagination:{get:function(){return this.pagination},set:function(t){return t}},permissions:function(){return this.$store.getters["app/getPermissions"]("Customer")}}},l=c,u=n("2877"),d=n("429b"),f=n("7460"),p=n("eb85"),m=n("adad"),h=n("823b"),g=n("ddd8"),b=n("27f9"),v=n("eaac"),y=n("e7a9"),w=n("9c40"),q=n("9564"),x=n("0016"),_=n("db86"),P=n("4e73"),C=n("1c1c"),k=n("66e5"),$=n("4074"),S=n("7f67"),D=n("eebe"),R=n.n(D),E=Object(u["a"])(l,o,a,!1,null,null,null);e["default"]=E.exports,R()(E,"components",{QTabs:d["a"],QTab:f["a"],QSeparator:p["a"],QTabPanels:m["a"],QTabPanel:h["a"],QSelect:g["a"],QInput:b["a"],QTable:v["a"],QBtnGroup:y["a"],QBtn:w["a"],QToggle:q["a"],QIcon:x["a"],QTd:_["a"],QMenu:P["a"],QList:C["a"],QItem:k["a"],QItemSection:$["a"]}),R()(E,"directives",{ClosePopup:S["a"]})},2929:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.sub_link?n("q-expansion-item",{attrs:{"expand-separator":"",icon:t.icon,label:t.title,"header-class":"text-white","expand-icon-class":"text-white","active-class":"nav-active",to:t.route},on:{click:function(e){t.active=!t.active}},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.sub_link,(function(e,o){return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:o,staticClass:"q-pa-md q-ma-none",staticStyle:{color:"#8ee5f7","font-weight":"500"},attrs:{clickable:"",tag:"a",to:{name:e.route},"active-class":"nav-active"}},[n("q-item-section",{staticClass:"q-pr-md",staticStyle:{"min-width":"auto"},attrs:{avatar:""}},[n("q-icon",{attrs:{name:e.icon,size:"16px",dense:""}})],1),n("q-item-section",[n("q-item-label",{attrs:{dense:""}},[t._v(t._s(e.title))])],1)],1)})),1):n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"q-pa-md q-ma-none",staticStyle:{color:"#8ee5f7","font-weight":"500"},attrs:{clickable:"",tag:"a",to:{name:t.route},"active-class":"nav-active"}},[n("q-item-section",{staticClass:"q-pr-md",staticStyle:{"min-width":"auto"},attrs:{avatar:""}},[n("q-icon",{attrs:{name:t.icon,size:"16px",dense:""}})],1),n("q-item-section",[n("q-item-label",{attrs:{dense:""}},[t._v(t._s(t.title))])],1)],1)},a=[],i={props:{title:{type:String,required:!0},route:{type:String,default:""},icon:{type:String,default:""},sub_link:{title:{type:String,required:!0},route:{type:String,default:""},icon:{type:String,default:""}}},data:function(){return{active:!1}}},s=i,r=(n("2f38"),n("2877")),c=n("3b73"),l=n("66e5"),u=n("4074"),d=n("0016"),f=n("0170"),p=n("714f"),m=n("eebe"),h=n.n(m),g=Object(r["a"])(s,o,a,!1,null,null,null);e["default"]=g.exports,h()(g,"components",{QExpansionItem:c["a"],QItem:l["a"],QItemSection:u["a"],QIcon:d["a"],QItemLabel:f["a"]}),h()(g,"directives",{Ripple:p["a"]})},"2f38":function(t,e,n){"use strict";var o=n("bd8b"),a=n.n(o);a.a},"2f39":function(t,e,n){"use strict";n.r(e);var o={};n.r(o),n.d(o,"hasPermission",(function(){return Y})),n.d(o,"getPermissions",(function(){return J}));var a={};n.r(a),n.d(a,"currentUser",(function(){return G})),n.d(a,"Authenticated",(function(){return H})),n.d(a,"getMenus",(function(){return K}));var i={};n.r(i),n.d(i,"errorDialog",(function(){return nt})),n.d(i,"Login",(function(){return ot})),n.d(i,"User",(function(){return it})),n.d(i,"Modules",(function(){return st})),n.d(i,"Logout",(function(){return rt}));var s={};n.r(s),n.d(s,"List",(function(){return dt})),n.d(s,"Push",(function(){return ft})),n.d(s,"Add",(function(){return pt})),n.d(s,"Edit",(function(){return mt})),n.d(s,"Delete",(function(){return ht}));var r={};n.r(r),n.d(r,"List",(function(){return gt})),n.d(r,"Show",(function(){return bt})),n.d(r,"Store",(function(){return vt})),n.d(r,"Update",(function(){return yt})),n.d(r,"Delete",(function(){return wt})),n.d(r,"DeleteMulti",(function(){return qt})),n.d(r,"Restore",(function(){return xt})),n.d(r,"RestoreMulti",(function(){return _t}));var c={};n.r(c),n.d(c,"List",(function(){return $t})),n.d(c,"Push",(function(){return St})),n.d(c,"Add",(function(){return Dt})),n.d(c,"Edit",(function(){return Rt})),n.d(c,"Delete",(function(){return Et}));var l={};n.r(l),n.d(l,"List",(function(){return At})),n.d(l,"Show",(function(){return Qt})),n.d(l,"Store",(function(){return Mt})),n.d(l,"Update",(function(){return Lt})),n.d(l,"Delete",(function(){return Ot})),n.d(l,"DeleteMulti",(function(){return zt})),n.d(l,"Restore",(function(){return Nt})),n.d(l,"RestoreMulti",(function(){return jt}));var u={};n.r(u),n.d(u,"List",(function(){return Vt})),n.d(u,"Push",(function(){return Tt})),n.d(u,"Add",(function(){return Ft})),n.d(u,"Edit",(function(){return Yt})),n.d(u,"Delete",(function(){return Jt}));var d={};n.r(d),n.d(d,"List",(function(){return Gt})),n.d(d,"Show",(function(){return Ht})),n.d(d,"Store",(function(){return Kt})),n.d(d,"Update",(function(){return Zt})),n.d(d,"Delete",(function(){return Wt})),n.d(d,"DeleteMulti",(function(){return Xt})),n.d(d,"Restore",(function(){return te})),n.d(d,"RestoreMulti",(function(){return ee}));var f={};n.r(f),n.d(f,"List",(function(){return ie})),n.d(f,"Push",(function(){return se})),n.d(f,"Add",(function(){return re})),n.d(f,"Edit",(function(){return ce})),n.d(f,"Delete",(function(){return le}));var p={};n.r(p),n.d(p,"List",(function(){return ue})),n.d(p,"Show",(function(){return de})),n.d(p,"Store",(function(){return fe})),n.d(p,"Update",(function(){return pe})),n.d(p,"Delete",(function(){return me})),n.d(p,"DeleteMulti",(function(){return he})),n.d(p,"Restore",(function(){return ge})),n.d(p,"RestoreMulti",(function(){return be}));var m={};n.r(m),n.d(m,"List",(function(){return qe})),n.d(m,"Push",(function(){return xe})),n.d(m,"Add",(function(){return _e})),n.d(m,"Edit",(function(){return Pe})),n.d(m,"Delete",(function(){return Ce}));var h={};n.r(h),n.d(h,"List",(function(){return ke})),n.d(h,"Show",(function(){return $e})),n.d(h,"Store",(function(){return Se})),n.d(h,"Update",(function(){return De})),n.d(h,"Delete",(function(){return Re})),n.d(h,"DeleteMulti",(function(){return Ee})),n.d(h,"Restore",(function(){return Ae})),n.d(h,"RestoreMulti",(function(){return Qe}));var g={};n.r(g),n.d(g,"List",(function(){return ze})),n.d(g,"Push",(function(){return Ne})),n.d(g,"Add",(function(){return je})),n.d(g,"Edit",(function(){return Ue})),n.d(g,"Delete",(function(){return Ie}));var b={};n.r(b),n.d(b,"List",(function(){return Be})),n.d(b,"Show",(function(){return Ve})),n.d(b,"Store",(function(){return Te})),n.d(b,"Update",(function(){return Fe})),n.d(b,"Delete",(function(){return Ye})),n.d(b,"DeleteMulti",(function(){return Je})),n.d(b,"Restore",(function(){return Ge})),n.d(b,"RestoreMulti",(function(){return He}));var v={};n.r(v),n.d(v,"List",(function(){return Xe})),n.d(v,"Push",(function(){return tn})),n.d(v,"Add",(function(){return en})),n.d(v,"Edit",(function(){return nn})),n.d(v,"Delete",(function(){return on}));var y={};n.r(y),n.d(y,"List",(function(){return an})),n.d(y,"Show",(function(){return sn})),n.d(y,"Store",(function(){return rn})),n.d(y,"Update",(function(){return cn})),n.d(y,"Delete",(function(){return ln})),n.d(y,"DeleteMulti",(function(){return un})),n.d(y,"Restore",(function(){return dn})),n.d(y,"RestoreMulti",(function(){return fn})),n("ac1f"),n("5319"),n("96cf");var w=n("c973"),q=n.n(w),x=(n("5c7d"),n("7d6e"),n("e54f"),n("985d"),n("0047"),n("2b0e")),_=n("1f91"),P=n("42d2"),C=n("b05d"),k=n("436b"),$=n("515f"),S=n("2a19"),D=n("f508"),R=n("18d6"),E=n("9c64");x["a"].use(C["a"],{config:{screen:{bodyClasses:!0}},lang:_["a"],iconSet:P["a"],plugins:{Dialog:k["a"],Cookies:$["a"],Notify:S["a"],Loading:D["a"],LocalStorage:R["a"],Meta:E["a"]}});var A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},Q=[],M=(n("99af"),n("b0c0"),n("ded3")),L=n.n(M),O=n("2f62"),z=n("a6a3"),N={methods:L()(L()({},Object(O["b"])("app",["User"])),{},{onReady:function(){var t=this;this.$q.loading.show({spinner:z["a"],spinnerColor:"orange",spinnerSize:80,backgroundColor:"white"}),this.User().then((function(e){t.$q.loading.hide()})).catch((function(){t.$q.loading.hide(),t.$route.meta.auth&&t.$router.push({name:"Login"})}))}}),mounted:function(){this.onReady()},watch:{$route:function(t,e){this.title=t.name}},computed:{title:{get:function(){return this.$route.name},set:function(t){return t}}},meta:function(){return{title:this.title,titleTemplate:function(t){return"".concat(t," | ").concat("JNElectrical")},noscript:{default:"This is content for browsers with no JS (or disabled JS)"}}}},j=N,U=n("2877"),I=Object(U["a"])(j,A,Q,!1,null,null,null),B=I.exports,V=JSON.parse(localStorage.getItem("currentUser"));console.log(V);var T=function(){return{user:V||{},authenticated:""!==V,notifications:[{id:1,user:{id:1,name:"Michael Smith",avatar:""},content:'<span class="text-weight-bold">Michael Smith</span> create a support ticket #5425.',time:"1 minute ago",type:"ticket_create"},{id:2,user:{id:1,name:"Michael Smith",avatar:""},content:'<span class="text-weight-bold">Michael Smith</span> request for disput #512.',time:"1 hours ago",type:"disput"},{id:3,user:{id:1,name:"Shail Smith",avatar:""},content:'<span class="text-weight-bold">Shail Smith</span> added new product in wordpress theme.',time:"1 hours ago",type:"add_product"},{id:4,user:{id:1,name:"Shail Smith",avatar:""},content:'<span class="text-weight-bold">Shail Smith</span> place an order #5451.',time:"1 hours ago",type:"order"},{id:5,user:{id:1,name:"Michael Smith",avatar:""},content:'<span class="text-weight-bold">Michael Smith</span> reply on ticket #58524.',time:"1 hours ago",type:"ticket_reply"}]}},F=(n("4de4"),n("7db0"),n("d81d"),n("b188"));function Y(t){return console.func("store/app/getters:hasPermission()",arguments),function(e){return!!t.user.permissions&&!!t.user.permissions.find((function(t){return t.module===e}))}}function J(t){return console.func("store/app/getters:getPermissions()",arguments),function(e){if(t.user.permissions){var n=t.user.permissions.filter((function(t){return t.module===e}));return n=F["a"].$_.map(n,"name"),n}return[]}}function G(t,e){t.user=e}function H(t,e){t.authenticated=e}function K(t,e){t.menus=e}n("d3b7"),n("e6cf");var Z=n("8c4f"),W=[{path:"/",redirect:"/dashboard"},{path:"/login",component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"16c9"))},children:[{path:"",name:"Login",component:function(){return n.e(5).then(n.bind(null,"b2c5"))}},{path:"forgot-password",name:"Forget Password",component:function(){return n.e(4).then(n.bind(null,"66e9"))}},{path:"reset-password",name:"Reset Password",component:function(){return n.e(6).then(n.bind(null,"6127"))}}]},{path:"/dashboard",component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"4129"))},children:[{path:"",name:"Dashboard",meta:{auth:!0},component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"d77e"))}},{path:"/users",name:"Users",meta:{auth:!0,module:"User"},component:function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"3ee1"))}},{path:"/customers",name:"Customers",meta:{auth:!0,module:"Customer"},component:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"6da1"))}},{path:"/roles",name:"Roles",meta:{auth:!0,module:"Role"},component:function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,"5356"))}}]},{path:"*",component:function(){return n.e(9).then(n.bind(null,"22dc"))}}],X=W;x["a"].use(Z["a"]);var tt=function(){var t=new Z["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:X,mode:"history",base:"/"});return t},et={cache:{},init:function(){console.log("api.init()",arguments)},call:function(t,e,n,o){var a=arguments;return q()(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return console.func("services/api:request.call()",a),o.abrupt("return",new Promise((function(o,a){var i={url:e,method:t};"get"===t?i.params=n:i.data=n,F["a"].$axios(i).then((function(t){o(t.data)})).catch((function(t){t.response&&t.response.data?(console.error(t.response.data),a(t.response.data.data?t.response.data.data:t.response.data)):t.request?(console.error(t.request),a(t.request)):(console.error(t.message),a(t.message))}))})));case 2:case"end":return o.stop()}}),o)})))()},get:function(t,e,n){var o=this;return console.func("services/core:request.get()",arguments),new Promise((function(a,i){o.call("get",t,e,n).then((function(t){a(t)})).catch((function(t){i(t)}))}))},post:function(t,e,n){var o=this;return console.func("services/core:request.post()",arguments),new Promise((function(a,i){o.call("post",t,e,n).then((function(t){a(t)})).catch((function(t){i(t)}))}))},put:function(t,e,n){var o=this;return console.func("services/core:request.put()",arguments),new Promise((function(a,i){o.call("put",t,e,n).then((function(t){a(t)})).catch((function(t){i(t)}))}))},delete:function(t,e,n){var o=this;return console.func("services/core:request.delete()",arguments),new Promise((function(a,i){o.call("delete",t,e,n).then((function(t){a(t)})).catch((function(t){i(t)}))}))}};function nt(t,e){var n=t.store;k["a"].create({title:e.title,message:e.message,persistent:!0}).onOk((function(){tt({store:n}).go()}))}function ot(t,e){return at.apply(this,arguments)}function at(){return at=q()(regeneratorRuntime.mark((function t(e,n){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,e.state,t.next=3,et.get("csrf-cookie");case 3:return t.abrupt("return",new Promise((function(t,e){et.post("auth/login",n).then((function(e){o("Authenticated",!0),o("currentUser",e),localStorage.setItem("currentUser",JSON.stringify(e)),t(e)})).catch((function(t){e(t)}))})));case 4:case"end":return t.stop()}}),t)}))),at.apply(this,arguments)}function it(t){var e=t.commit;return t.state,new Promise((function(t,n){et.post("auth/me").then((function(n){e("currentUser",n),localStorage.setItem("currentUser",JSON.stringify(n)),t(n)})).catch((function(t){e("currentUser",{}),localStorage.removeItem("currentUser"),n(t)}))}))}function st(t,e){return t.commit,new Promise((function(t,n){et.get("users/modules",e).then((function(e){t(e)})).catch((function(t){n(t)}))}))}function rt(t){var e=t.commit;return new Promise((function(t,n){et.post("/auth/logout").then((function(n){localStorage.removeItem("currentUser"),e("Authenticated",!1),e("currentUser",{}),t(n)})).catch((function(t){n(t)}))}))}var ct={namespaced:!0,state:T,getters:o,mutations:a,actions:i},lt=function(){return{data:[]}},ut=n("6ca7");function dt(t,e){t.data=e}function ft(t,e){t.data.push(e)}function pt(t,e){t.data.unshift(e)}function mt(t,e){console.log("commitEdit",e);var n=t.data.find((function(t){return t.id===e.id}));Object.assign(n,e)}function ht(t,e){var n=t.data.findIndex((function(t){return t.id===e}));x["a"].delete(t.data,n)}function gt(t,e){var n=t.commit;return new Promise((function(t,o){et.get("users",e).then((function(e){n("List",e.data),t(e)})).catch((function(t){o(t)}))}))}function bt(t,e){return t.commit,new Promise((function(t,n){et.get("users/"+e).then((function(e){t(e)})).catch((function(t){n(t)}))}))}function vt(t,e){var n=t.commit;return new Promise((function(t,o){et.post("users",e).then((function(e){n("Add",e),t(e)})).catch((function(t){o(t)}))}))}function yt(t,e){var n=t.commit;return new Promise((function(t,o){et.put("users/"+e.id,e).then((function(e){n("Edit",e.data),console.log(e),t(e)})).catch((function(t){o(t)}))}))}function wt(t,e){var n=t.commit;return new Promise((function(t,o){et.delete("users/"+e.id).then((function(o){n("Delete",e.id),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function qt(t,e){var n=t.commit;return new Promise((function(t,o){et.delete("users",e).then((function(o){e.users.map((function(t){n("Delete",t)})),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function xt(t,e){var n=t.commit;return new Promise((function(t,o){et.post("users/".concat(e.id,"/restore")).then((function(o){n("Delete",e.id),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function _t(t,e){var n=t.commit;return new Promise((function(t,o){et.post("users/restore",e).then((function(o){e.users.map((function(t){n("Delete",t)})),console.log(o),t(o)})).catch((function(t){o(t)}))}))}n("c740"),n("cca6");var Pt={namespaced:!0,state:lt,getters:ut,mutations:s,actions:r},Ct=function(){return{data:[]}},kt=n("fbf7");function $t(t,e){t.data=e}function St(t,e){t.data.push(e)}function Dt(t,e){t.data.unshift(e)}function Rt(t,e){console.log("commitEdit",e);var n=t.data.find((function(t){return t.id===e.id}));Object.assign(n,e)}function Et(t,e){var n=t.data.findIndex((function(t){return t.id===e}));x["a"].delete(t.data,n)}function At(t,e){var n=t.commit;return new Promise((function(t,o){et.get("roles",e).then((function(e){n("List",e.data),t(e)})).catch((function(t){o(t)}))}))}function Qt(t,e){return t.commit,new Promise((function(t,n){et.get("roles/"+e).then((function(e){t(e)})).catch((function(t){n(t)}))}))}function Mt(t,e){var n=t.commit;return new Promise((function(t,o){et.post("roles",e).then((function(e){n("Add",e),t(e)})).catch((function(t){o(t)}))}))}function Lt(t,e){var n=t.commit;return new Promise((function(t,o){et.put("roles/"+e.id,e).then((function(e){n("Edit",e.data),console.log(e),t(e)})).catch((function(t){o(t)}))}))}function Ot(t,e){var n=t.commit;return new Promise((function(t,o){et.delete("roles/"+e.id).then((function(o){n("Delete",e.id),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function zt(t,e){var n=t.commit;return new Promise((function(t,o){et.delete("roles",e).then((function(o){e.roles.map((function(t){n("Delete",t)})),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function Nt(t,e){var n=t.commit;return new Promise((function(t,o){et.post("roles/".concat(e.id,"/restore")).then((function(o){n("Delete",e.id),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function jt(t,e){var n=t.commit;return new Promise((function(t,o){et.post("roles/restore",e).then((function(o){e.roles.map((function(t){n("Delete",t)})),console.log(o),t(o)})).catch((function(t){o(t)}))}))}var Ut={namespaced:!0,state:Ct,getters:kt,mutations:c,actions:l},It=function(){return{data:[]}},Bt=n("cb89");function Vt(t,e){t.data=e}function Tt(t,e){t.data.push(e)}function Ft(t,e){t.data.unshift(e)}function Yt(t,e){console.log("commitEdit",e);var n=t.data.find((function(t){return t.id===e.id}));Object.assign(n,e)}function Jt(t,e){var n=t.data.findIndex((function(t){return t.id===e}));x["a"].delete(t.data,n)}function Gt(t,e){var n=t.commit;return new Promise((function(t,o){et.get("customers",e).then((function(e){n("List",e.data),t(e)})).catch((function(t){o(t)}))}))}function Ht(t,e){return t.commit,new Promise((function(t,n){et.get("customers/"+e).then((function(e){t(e)})).catch((function(t){n(t)}))}))}function Kt(t,e){var n=t.commit;return new Promise((function(t,o){et.post("customers",e).then((function(e){n("Add",e),t(e)})).catch((function(t){o(t)}))}))}function Zt(t,e){var n=t.commit;return new Promise((function(t,o){et.put("customers/"+e.id,e).then((function(e){n("Edit",e.data),console.log(e),t(e)})).catch((function(t){o(t)}))}))}function Wt(t,e){var n=t.commit;return new Promise((function(t,o){et.delete("customers/"+e.id).then((function(o){n("Delete",e.id),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function Xt(t,e){var n=t.commit;return new Promise((function(t,o){et.delete("customers",e).then((function(o){e.customers.map((function(t){n("Delete",t)})),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function te(t,e){var n=t.commit;return new Promise((function(t,o){et.post("customers/".concat(e.id,"/restore")).then((function(o){n("Delete",e.id),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function ee(t,e){var n=t.commit;return new Promise((function(t,o){et.post("customers/restore",e).then((function(o){e.customers.map((function(t){n("Delete",t)})),console.log(o),t(o)})).catch((function(t){o(t)}))}))}var ne={namespaced:!0,state:It,getters:Bt,mutations:u,actions:d},oe=function(){return{data:[]}},ae=n("6d83");function ie(t,e){t.data=e}function se(t,e){t.data.push(e)}function re(t,e){t.data.unshift(e)}function ce(t,e){console.log("commitEdit",e);var n=t.data.find((function(t){return t.id===e.id}));Object.assign(n,e)}function le(t,e){var n=t.data.findIndex((function(t){return t.id===e}));x["a"].delete(t.data,n)}function ue(t,e){var n=t.commit;return new Promise((function(t,o){et.get("customers/".concat(e.customer,"/contacts"),e).then((function(e){n("List",e.data),t(e)})).catch((function(t){o(t)}))}))}function de(t,e){return t.commit,console.log(e),new Promise((function(t,n){et.get("customers/".concat(e.customer,"/contacts/").concat(e.contact.id)).then((function(e){t(e)})).catch((function(t){n(t)}))}))}function fe(t,e){var n=t.commit;return new Promise((function(t,o){et.post("customers/".concat(e.customer,"/contacts"),e.contact).then((function(e){n("Add",e),t(e)})).catch((function(t){o(t)}))}))}function pe(t,e){var n=t.commit;return new Promise((function(t,o){et.put("customers/".concat(e.customer,"/contacts/").concat(e.contact.id),e.contact).then((function(e){n("Edit",e),console.log(e),t(e)})).catch((function(t){o(t)}))}))}function me(t,e){var n=t.commit;return new Promise((function(t,o){et.delete("customers/".concat(e.customer,"/contacts/").concat(e.contact.id)).then((function(o){n("Delete",e.contact.id),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function he(t,e){var n=t.commit;return new Promise((function(t,o){et.delete("customers/".concat(e.customer,"/contacts"),{contacts:e.contacts}).then((function(o){e.contacts.map((function(t){n("Delete",t)})),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function ge(t,e){var n=t.commit;return new Promise((function(t,o){et.post("customers/".concat(e.customer,"/contacts/").concat(e.contact.id,"/restore")).then((function(o){n("Delete",e.contact.id),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function be(t,e){var n=t.commit;return new Promise((function(t,o){et.post("customers/".concat(e.customer,"/contacts/restore"),{contacts:e.contacts}).then((function(o){e.contacts.map((function(t){n("Delete",t)})),console.log(o),t(o)})).catch((function(t){o(t)}))}))}var ve={namespaced:!0,state:oe,getters:ae,mutations:f,actions:p},ye=function(){return{data:[]}},we=n("1879");function qe(t,e){t.data=e}function xe(t,e){t.data.push(e)}function _e(t,e){t.data.unshift(e)}function Pe(t,e){console.log("commitEdit",e);var n=t.data.find((function(t){return t.id===e.id}));Object.assign(n,e)}function Ce(t,e){var n=t.data.findIndex((function(t){return t.id===e}));x["a"].delete(t.data,n)}function ke(t,e){var n=t.commit;return new Promise((function(t,o){et.get("customers/".concat(e.customer,"/locations"),e).then((function(e){n("List",e.data),t(e)})).catch((function(t){o(t)}))}))}function $e(t,e){return t.commit,console.log(e),new Promise((function(t,n){et.get("customers/".concat(e.customer,"/locations/").concat(e.location.id)).then((function(e){t(e)})).catch((function(t){n(t)}))}))}function Se(t,e){var n=t.commit;return new Promise((function(t,o){et.post("customers/".concat(e.customer,"/locations"),e.location).then((function(e){n("Add",e),t(e)})).catch((function(t){o(t)}))}))}function De(t,e){var n=t.commit;return new Promise((function(t,o){et.put("customers/".concat(e.customer,"/locations/").concat(e.location.id),e.location).then((function(e){n("Edit",e),console.log(e),t(e)})).catch((function(t){o(t)}))}))}function Re(t,e){var n=t.commit;return new Promise((function(t,o){et.delete("customers/".concat(e.customer,"/locations/").concat(e.location.id)).then((function(o){n("Delete",e.location.id),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function Ee(t,e){var n=t.commit;return new Promise((function(t,o){et.delete("customers/".concat(e.customer,"/locations"),{locations:e.locations}).then((function(o){e.locations.map((function(t){n("Delete",t)})),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function Ae(t,e){var n=t.commit;return new Promise((function(t,o){et.post("customers/".concat(e.customer,"/locations/").concat(e.location.id,"/restore")).then((function(o){n("Delete",e.location.id),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function Qe(t,e){var n=t.commit;return new Promise((function(t,o){et.post("customers/".concat(e.customer,"/locations/restore"),{locations:e.locations}).then((function(o){e.locations.map((function(t){n("Delete",t)})),console.log(o),t(o)})).catch((function(t){o(t)}))}))}var Me={namespaced:!0,state:ye,getters:we,mutations:m,actions:h},Le=function(){return{data:[]}},Oe=n("d4fc");function ze(t,e){t.data=e}function Ne(t,e){t.data.push(e)}function je(t,e){t.data.unshift(e)}function Ue(t,e){console.log("commitEdit",e);var n=t.data.find((function(t){return t.id===e.id}));Object.assign(n,e)}function Ie(t,e){var n=t.data.findIndex((function(t){return t.id===e}));x["a"].delete(t.data,n)}function Be(t,e){var n=t.commit;return new Promise((function(t,o){et.get("activities",e).then((function(e){n("List",e.data),t(e)})).catch((function(t){o(t)}))}))}function Ve(t,e){return t.commit,new Promise((function(t,n){et.get("activities/"+e).then((function(e){t(e)})).catch((function(t){n(t)}))}))}function Te(t,e){var n=t.commit;return new Promise((function(t,o){et.post("activities",e).then((function(e){n("Add",e),t(e)})).catch((function(t){o(t)}))}))}function Fe(t,e){var n=t.commit;return new Promise((function(t,o){et.put("activities/"+e.id,e).then((function(e){n("Edit",e.data),console.log(e),t(e)})).catch((function(t){o(t)}))}))}function Ye(t,e){var n=t.commit;return new Promise((function(t,o){et.delete("activities/"+e.id).then((function(o){n("Delete",e.id),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function Je(t,e){var n=t.commit;return new Promise((function(t,o){et.delete("activities",e).then((function(o){e.activities.map((function(t){n("Delete",t)})),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function Ge(t,e){var n=t.commit;return new Promise((function(t,o){et.post("activities/".concat(e.id,"/restore")).then((function(o){n("Delete",e.id),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function He(t,e){var n=t.commit;return new Promise((function(t,o){et.post("activities/restore",e).then((function(o){e.activities.map((function(t){n("Delete",t)})),console.log(o),t(o)})).catch((function(t){o(t)}))}))}var Ke={namespaced:!0,state:Le,getters:Oe,mutations:g,actions:b},Ze=function(){return{data:[]}},We=n("5f1a");function Xe(t,e){t.data=e}function tn(t,e){t.data.push(e)}function en(t,e){t.data.unshift(e)}function nn(t,e){console.log("commitEdit",e);var n=t.data.find((function(t){return t.id===e.id}));Object.assign(n,e)}function on(t,e){var n=t.data.findIndex((function(t){return t.id===e}));x["a"].delete(t.data,n)}function an(t,e){var n=t.commit;return new Promise((function(t,o){et.get("referral-source",e).then((function(e){n("List",e.data),t(e)})).catch((function(t){o(t)}))}))}function sn(t,e){return t.commit,new Promise((function(t,n){et.get("referral-source/"+e).then((function(e){t(e)})).catch((function(t){n(t)}))}))}function rn(t,e){var n=t.commit;return new Promise((function(t,o){et.post("referral-source",e).then((function(e){n("Add",e),t(e)})).catch((function(t){o(t)}))}))}function cn(t,e){var n=t.commit;return new Promise((function(t,o){et.put("referral-source/"+e.id,e).then((function(e){n("Edit",e.data),console.log(e),t(e)})).catch((function(t){o(t)}))}))}function ln(t,e){var n=t.commit;return new Promise((function(t,o){et.delete("referral-source/"+e.id).then((function(o){n("Delete",e.id),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function un(t,e){var n=t.commit;return new Promise((function(t,o){et.delete("referral-source",e).then((function(o){e.referral_source.map((function(t){n("Delete",t)})),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function dn(t,e){var n=t.commit;return new Promise((function(t,o){et.post("referral-source/".concat(e.id,"/restore")).then((function(o){n("Delete",e.id),console.log(o),t(o)})).catch((function(t){o(t)}))}))}function fn(t,e){var n=t.commit;return new Promise((function(t,o){et.post("referral-source/restore",e).then((function(o){e.referral_source.map((function(t){n("Delete",t)})),console.log(o),t(o)})).catch((function(t){o(t)}))}))}var pn={namespaced:!0,state:Ze,getters:We,mutations:v,actions:y};x["a"].use(O["a"]);var mn=function(){var t=new O["a"].Store({modules:{app:ct,user:Pt,role:Ut,customer:ne,contact:ve,location:Me,activity:Ke,referral:pn},strict:!1});return t},hn=function(){return gn.apply(this,arguments)};function gn(){return gn=q()(regeneratorRuntime.mark((function t(){var e,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("function"!==typeof mn){t.next=6;break}return t.next=3,mn({Vue:x["a"]});case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=mn;case 7:if(e=t.t0,"function"!==typeof tt){t.next=14;break}return t.next=11,tt({Vue:x["a"],store:e});case 11:t.t1=t.sent,t.next=15;break;case 14:t.t1=tt;case 15:return n=t.t1,e.$router=n,o={router:n,store:e,render:function(t){return t(B)}},o.el="#q-app",t.abrupt("return",{app:o,store:e,router:n});case 20:case"end":return t.stop()}}),t)}))),gn.apply(this,arguments)}n("a434");var bn=function(){window.console=function(t){window.console&&t||(t={});var e=!1,n=!1,o={logs:[],errors:[],warns:[],infos:[],trace:[]};return{core:function(){this.addLog(arguments,"core"),Array.prototype.unshift.call(arguments,"%c[Core]","color: #fff; background: #ea1d75; font-weight:700;padding:5px"),t.log&&t.log.apply(t,arguments)},func:function(){this.addLog(arguments,"funcs"),arguments[0]="%c[Func]%c "+arguments[0],Array.prototype.splice.call(arguments,1,0,"color: #fff; background:#CC66CC; font-weight:700;padding:5px","color: #CC66CC; font-weight:700;"),e&&t.log&&t.log.apply(t,arguments)},event:function(){this.addLog(arguments,"events"),arguments[0]="%c[Event]%c "+arguments[0],Array.prototype.splice.call(arguments,1,0,"color: #fff; background:#FF6600; font-weight:700;padding:5px","color: #FF6600; font-weight:700;"),e&&t.log&&t.log.apply(t,arguments)},log:function(){this.addLog(arguments,"logs"),Array.prototype.unshift.call(arguments,"%c[Debug]","color: #fff; background: #009900; font-weight:700;padding:5px"),e&&t.log&&t.log.apply(t,arguments)},warn:function(){this.addLog(arguments,"warns"),Array.prototype.unshift.call(arguments,"[Warn]"),e&&t.warn&&t.warn.apply(t,arguments)},error:function(){this.addLog(arguments,"errors"),Array.prototype.unshift.call(arguments,"%c[Error]","color: #fff; background: #990000; font-weight:700;padding:5px"),e&&t.error&&t.error.apply(t,arguments)},info:function(){this.addLog(arguments,"infos"),Array.prototype.unshift.call(arguments,"%c[Info]","color: #fff; background:#0066FF; font-weight:700;padding:5px"),e&&t.info&&t.info.apply(t,arguments)},trace:function(){this.addLog(arguments,"trace"),Array.prototype.unshift.call(arguments,"%c[Trace]","color: #fff; background:#FFCC00;font-weight:700;padding:5px"),e&&t.trace&&t.trace.apply(t,arguments)},debug:function(t){e=t},saveLog:function(t){n=t},addLog:function(t,e){n&&o[e||"logs"].push(t)},logArray:function(){return o}}}(window.console)},vn=n("bc3a"),yn=n.n(vn),wn=n("bc78"),qn=n("2ef0"),xn=n.n(qn),_n=function(){var t=q()(regeneratorRuntime.mark((function t(e){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.Vue,o=e.store,console.core("Loading ".concat("JNElectrical"," services")),n.prototype.$core=F["a"],n.prototype.$api=et,n.prototype.$user=o.state.app.user,n.prototype.$_=xn.a,n.prototype.$colors=wn["a"],yn.a.defaults.baseURL="https://api.jnelectricalcontractors.co.uk",yn.a.defaults.withCredentials=!0,F["a"].$axios=yn.a,F["a"].$_=xn.a,F["a"].Vue=new n,F["a"].store=o,console.core("Production"),t.next=16,F["a"].init();case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Pn=(n("4160"),n("e260"),n("1276"),n("159b"),n("ddb0"),n("8103")),Cn=n.n(Pn),kn=n("bba4"),$n=n.n(kn),Sn=function(){var t=q()(regeneratorRuntime.mark((function t(e){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=e.Vue,console.core("Auto loading components"),a=n("4daf"),a.keys().forEach((function(t){var e=a(t),n=Cn()($n()(t.split("/").pop().replace(/\.\w+$/,"")));o.component(n,e.default||e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Dn=(n("30cb"),n("52bb"),n("df86"),n("223d"),function(t){var e=t.router,n=t.store;e.beforeEach((function(t,e,o){var a=n.state.app.authenticated,i=t.meta.auth;i&&a?o():i&&!a?o({name:"Login",params:{to:t}}):o()})),e.beforeResolve((function(t,e,o){var a=t.meta.module;a?n.getters["app/hasPermission"](a)?(console.log("hasPermission",n.getters["app/hasPermission"](a)),o()):o({name:"Dashboard"}):o()}))}),Rn="/";function En(){return An.apply(this,arguments)}function An(){return An=q()(regeneratorRuntime.mark((function t(){var e,n,o,a,i,s,r,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,hn();case 2:e=t.sent,n=e.app,o=e.store,a=e.router,i=!1,s=function(t){i=!0;var e=Object(t)===t?a.resolve(t).route.fullPath:t;window.location.href=e},r=window.location.href.replace(window.location.origin,""),c=[bn,_n,Sn,void 0,Dn],l=0;case 11:if(!(!1===i&&l<c.length)){t.next=29;break}if("function"===typeof c[l]){t.next=14;break}return t.abrupt("continue",26);case 14:return t.prev=14,t.next=17,c[l]({app:n,router:a,store:o,Vue:x["a"],ssrContext:null,redirect:s,urlPath:r,publicPath:Rn});case 17:t.next=26;break;case 19:if(t.prev=19,t.t0=t["catch"](14),!t.t0||!t.t0.url){t.next=24;break}return window.location.href=t.t0.url,t.abrupt("return");case 24:return console.error("[Quasar] boot error:",t.t0),t.abrupt("return");case 26:l++,t.next=11;break;case 29:if(!0!==i){t.next=31;break}return t.abrupt("return");case 31:new x["a"](n);case 32:case"end":return t.stop()}}),t,null,[[14,19]])}))),An.apply(this,arguments)}En()},"4af7":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("div",[n("table-dialog",{ref:"dialog",attrs:{height:t.edit?"calc(100vh - 130px)":"100vh",edit:t.edit,add:t.add,loading:t.visiable,title:t.title},on:{submit:t.onSubmit,update:t.onUpdate}},[n("template",{slot:"body"},[n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Label"},model:{value:t.data.location.label,callback:function(e){t.$set(t.data.location,"label",e)},expression:"data.location.label"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Address Line 1"},model:{value:t.data.location.address_line_1,callback:function(e){t.$set(t.data.location,"address_line_1",e)},expression:"data.location.address_line_1"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Address Line 2"},model:{value:t.data.location.address_line_2,callback:function(e){t.$set(t.data.location,"address_line_2",e)},expression:"data.location.address_line_2"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Address Line 3"},model:{value:t.data.location.address_line_3,callback:function(e){t.$set(t.data.location,"address_line_3",e)},expression:"data.location.address_line_3"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Address City"},model:{value:t.data.location.address_city,callback:function(e){t.$set(t.data.location,"address_city",e)},expression:"data.location.address_city"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Address County"},model:{value:t.data.location.address_county,callback:function(e){t.$set(t.data.location,"address_county",e)},expression:"data.location.address_county"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Address Postcode"},model:{value:t.data.location.address_postcode,callback:function(e){t.$set(t.data.location,"address_postcode",e)},expression:"data.location.address_postcode"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Address Country"},model:{value:t.data.location.address_country,callback:function(e){t.$set(t.data.location,"address_country",e)},expression:"data.location.address_country"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-select",{attrs:{readonly:!t.edit,options:[{label:"Yes",value:1},{label:"No",value:0}],"emit-value":"","map-options":"",label:"Default"},model:{value:t.data.location.default,callback:function(e){t.$set(t.data.location,"default",e)},expression:"data.location.default"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-select",{attrs:{readonly:!t.edit,options:[{label:"Yes",value:1},{label:"No",value:0}],"emit-value":"","map-options":"",label:"Accounts"},model:{value:t.data.location.accounts,callback:function(e){t.$set(t.data.location,"accounts",e)},expression:"data.location.accounts"}})],1)])],2)],1)],n("q-table",{staticClass:"main-table",attrs:{data:t.table.data,columns:t.table.columns,flat:"",bordered:t.bordered,"row-key":"id","hide-pagination":t.hidePagination,"rows-per-page-options":t.rowsPerPageOptions,filter:t.pagination.filter,pagination:t.pagination,loading:t.loading,selection:"multiple",selected:t.selected},on:{"update:pagination":function(e){t.pagination=e},"update:selected":function(e){t.selected=e},request:t.onRequest},scopedSlots:t._u([{key:"top",fn:function(){return[n("div",{staticClass:"col"},[n("div",{staticClass:"row q-col-gutter-md"},[n("div",{staticClass:"col-sm-8 col-xs-12"},[n("q-btn-group",{staticClass:"q-mr-sm",attrs:{outline:""}},[[n("q-btn",{staticClass:"q-pa-sm",attrs:{squared:"",icon:"fal fa-user-plus",color:"positive",size:"10px"},on:{click:t.onAdd}},[n("tooltip",{attrs:{position:"top"}},[t._v("Add location")])],1),t.pagination.deleted?n("q-btn",{staticClass:"q-pa-sm",attrs:{disabled:0==t.selected.length,squared:"",icon:"fal fa-trash-undo",color:"warning",size:"10px"},on:{click:t.onRestoreMulti}},[n("tooltip",{attrs:{position:"top"}},[t._v("Restore selected location")])],1):n("q-btn",{staticClass:"q-pa-sm",attrs:{disabled:0==t.selected.length,squared:"",icon:"delete",color:"negative",size:"10px"},on:{click:t.onDeleteMulti}},[n("tooltip",{attrs:{position:"top"}},[t._v("Delete selected location")])],1)]],2),t.selected?n("q-toggle",{attrs:{"checked-icon":"delete",color:"red",label:"View Deleted"},model:{value:t.pagination.deleted,callback:function(e){t.$set(t.pagination,"deleted",e)},expression:"pagination.deleted"}}):t._e()],1),n("div",{staticClass:"col-sm-4 col-xs-12 text-right"},[n("q-input",{attrs:{outlined:"",square:"",placeholder:"Quick search",hint:"First name / Surname / Email",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[""===t.pagination.filter?n("q-icon",{attrs:{name:"fal fa-search",size:"14px"}}):n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"fal fa-times",size:"14px"},on:{click:function(e){t.pagination.filter=""}}})]},proxy:!0}]),model:{value:t.pagination.filter,callback:function(e){t.$set(t.pagination,"filter",e)},expression:"pagination.filter"}})],1)])])]},proxy:!0},{key:"body-cell-avatar",fn:function(t){return[n("q-td",{attrs:{props:t}},[n("avatar",{attrs:{location:t.row,size:"30px"}})],1)]}},{key:"body-cell-actions",fn:function(e){return[n("q-td",{attrs:{props:e}},[n("q-btn",{attrs:{flat:"",dense:"",icon:"fal fa-ellipsis-h"}},[n("q-menu",{attrs:{self:"top middle",dense:"",square:""}},[n("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[!t.pagination.deleted&&t.permissions.includes("Show")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onView(e.row)}}},[n("q-item-section",[t._v("view")])],1):t._e(),!t.pagination.deleted&&t.permissions.includes("Update")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onEdit(e.row)}}},[n("q-item-section",[t._v("edit")])],1):t._e(),!t.pagination.deleted&&t.permissions.includes("Destroy")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onDelete(e.row)}}},[n("q-item-section",[t._v("delete")])],1):t._e(),t.pagination.deleted&&t.permissions.includes("Destroy")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onRestore(e.row)}}},[n("q-item-section",[t._v("restore")])],1):t._e()],1)],1)],1)],1)]}}])})],2)},a=[],i=(n("4de4"),n("4160"),n("d81d"),n("a9e3"),n("159b"),n("ded3")),s=n.n(i),r=n("2f62"),c={data:function(){return{data:{location:{}},loading:!1,table:{columns:[{name:"id",align:"left",label:"ID",field:"id",sortable:!0,style:"width: 30px"},{name:"label",align:"left",label:"Label",field:"label",sortable:!0,style:"width: 100px"},{name:"address_line_1",align:"left",label:"Address Line 1",field:"address_line_1",sortable:!0,style:"width: 100px"},{name:"address_city",align:"left",label:"Address City",field:"address_city",sortable:!0,style:"width: 100px"},{name:"address_county",align:"left",label:"Address County",field:"address_county",sortable:!0,style:"width: 100px"},{name:"address_postcode",align:"left",label:"Address Postcode",field:"address_postcode",sortable:!0,style:"width: 100px"},{name:"address_country",align:"left",label:"Address Country",field:"address_country",sortable:!0,style:"width: 100px"},{name:"default",align:"left",label:"Default",field:"default",sortable:!0,style:"width: 100px"},{name:"accounts",align:"left",label:"Accounts",field:"accounts",sortable:!0,style:"width: 100px"},{name:"actions",align:"right",sortable:!1}],data:[]},pagination:{sortBy:"id",descending:!0,page:1,filter:"",deleted:!1,rowsPerPage:15,rowsNumber:15},selected:[],title:"",visiable:!1,add:!1,edit:!0,locations:[]}},props:{customer:{required:!0,type:Number},hidePagination:{required:!1,type:Boolean,default:function(){return!1}},rowsPerPageOptions:{required:!1,type:Array,default:function(){return[15,30,50]}},rowsPerPage:{required:!1,type:Number,default:function(){return 15}},filter:{required:!1,type:Boolean,default:function(){return!0}},bordered:{required:!1,type:Boolean,default:function(){return!1}}},methods:s()(s()({},Object(r["b"])("location",["List","Show","Store","Update","Delete","DeleteMulti","Restore","RestoreMulti"])),{},{onRequest:function(t){var e=this;console.func("components/table/customer/locations:methods.onRequest()",arguments);var n=t.pagination,o=n.page,a=n.rowsPerPage,i=n.sortBy,s=n.descending,r=n.deleted,c=n.filter;this.loading=!0,this.List({customer:this.customer,page:o,limit:a,filter:c,order:i,deleted:r,descending:s?"desc":"asc"}).then((function(t){e.table.data=e.tableData,e.pagination.rowsNumber=t.total,e.pagination.page=o,e.pagination.rowsPerPage=a,e.pagination.sortBy=i,e.pagination.descending=s,e.loading=!1}))},onLocationLoad:function(t,e){var n=this;this.$store.dispatch("location/List",{customer:this.customer,filter:t,limit:100}).then((function(t){t.data.forEach((function(t){n.locations.push(t)})),e()}))},onAdd:function(t){console.func("components/table/customer/locations:methods.onAdd()",arguments),this.title="Add New Contact",this.data.location={},this.add=!0,this.edit=!0,this.$refs.dialog.show()},onSubmit:function(t){var e=this;console.func("components/table/customer/locations:methods.onSubmit()",arguments),this.Store({customer:this.customer,location:this.data.location}).then((function(){e.$refs.dialog.hide()})).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))},onView:function(t){var e=this;console.func("components/table/customer/locations:methods.onView()",arguments),this.title="".concat(t.label," Details"),this.add=!1,this.edit=!1,this.Show({customer:this.customer,location:t}).then((function(t){e.data.location=t,e.$refs.dialog.show()}))},onEdit:function(t){var e=this;console.func("components/table/customer/locations:methods.onEdit()",arguments),this.title="Edit ".concat(t.label," Details"),this.add=!1,this.edit=!0,this.Show({customer:this.customer,location:t}).then((function(t){e.data.location=t,e.$refs.dialog.show()}))},onUpdate:function(){var t=this;console.func("components/table/customer/locations:methods.onUpdate()",arguments),this.Update({customer:this.customer,location:this.data.location}).then((function(){t.$refs.dialog.hide()})).catch((function(e){t.visiable=!1,t.$core.error(e,{title:"Validation Error"})}))},onDelete:function(t){var e=this;console.func("components/table/customer/locations:methods.onDelete()",arguments),this.$core.confirm("Are you sure you want to delete this location?").then((function(){e.Delete({customer:e.customer,location:t}).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onDeleteMulti:function(t){var e=this;console.func("components/table/customer/locations:methods.onDeleteMulti()",arguments);var n=this.$_.map(this.selected,"id");this.$core.confirm("Are you sure you want to delete the "+n.length+" selected location"+(n.length>1?"s":"")+"?").then((function(){e.DeleteMulti({customer:e.customer,locations:n}).then((function(){e.selected=[],e.onRequest({pagination:e.pagination})})).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onRestore:function(t){var e=this;console.func("components/table/customer/locations:methods.onRestore()",arguments),this.$core.confirm("Are you sure you want to restore this location?").then((function(){e.Restore({customer:e.customer,location:t}).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onRestoreMulti:function(t){var e=this;console.func("components/table/customer/locations:methods.onRestoreMulti()",arguments);var n=this.$_.map(this.selected,"id");this.$core.confirm("Are you sure you want to restore the "+n.length+" selected location"+(n.length>1?"s":"")+"?").then((function(){e.RestoreMulti({customer:e.customer,locations:n}).then((function(){e.selected=[],e.onRequest({pagination:e.pagination})})).catch((function(t){e.$core.error(t,{title:"Error"})}))}))}}),computed:{tableData:function(){return this.$store.state.location.data},permissions:function(){return this.$store.getters["app/getPermissions"]("Customer")}},watch:{"pagination.deleted":function(t){this.onRequest({pagination:this.pagination})}},mounted:function(){this.pagination.rowsPerPage=this.rowsPerPage,this.pagination.rowsNumber=this.rowsPerPage,this.onRequest({pagination:this.pagination})}},l=c,u=n("2877"),d=n("27f9"),f=n("ddd8"),p=n("eaac"),m=n("e7a9"),h=n("9c40"),g=n("9564"),b=n("0016"),v=n("db86"),y=n("4e73"),w=n("1c1c"),q=n("66e5"),x=n("4074"),_=n("7f67"),P=n("eebe"),C=n.n(P),k=Object(u["a"])(l,o,a,!1,null,null,null);e["default"]=k.exports,C()(k,"components",{QInput:d["a"],QSelect:f["a"],QTable:p["a"],QBtnGroup:m["a"],QBtn:h["a"],QToggle:g["a"],QIcon:b["a"],QTd:v["a"],QMenu:y["a"],QList:w["a"],QItem:q["a"],QItemSection:x["a"]}),C()(k,"directives",{ClosePopup:_["a"]})},"4daf":function(t,e,n){var o={"./base/base-alert.vue":"0f70","./base/table-dialog.vue":"be77","./table/customer/activities.vue":"dd03","./table/customer/contacts.vue":"ae69","./table/customer/locations.vue":"4af7","./table/customers.vue":"1d805","./table/roles.vue":"67bb","./table/users.vue":"cd76","./widget/avatar.vue":"91c3","./widget/links.vue":"2929","./widget/notification.vue":"ba1e","./widget/tooltip.vue":"d544"};function a(t){var e=i(t);return n(e)}function i(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}a.keys=function(){return Object.keys(o)},a.resolve=i,t.exports=a,a.id="4daf"},"4e1c":function(t,e,n){},"5f1a":function(t,e){},"67bb":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("div",[n("table-dialog",{ref:"dialog",attrs:{height:t.edit?"calc(100vh - 130px)":"100vh",edit:t.edit,add:t.add,loading:t.visiable,title:t.title},on:{submit:t.onSubmit,update:t.onUpdate}},[n("template",{slot:"body"},[n("div",{staticClass:"col-xs-12 col-sm-6"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Name"},model:{value:t.data.role.name,callback:function(e){t.$set(t.data.role,"name",e)},expression:"data.role.name"}})],1),n("div",{staticClass:"col-xs-12 col-sm-6"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Slug"},model:{value:t.data.role.slug,callback:function(e){t.$set(t.data.role,"slug",e)},expression:"data.role.slug"}})],1),n("div",{staticClass:"col-xs-12"},[n("q-input",{attrs:{readonly:!t.edit,type:"textarea",label:"Description"},model:{value:t.data.role.description,callback:function(e){t.$set(t.data.role,"description",e)},expression:"data.role.description"}})],1),n("div",{staticClass:"col-xs-12"},[n("div",{staticClass:"text-subtitle1 q-mb-sm q-mt-sm text-dark"},[t._v("Permissions")]),n("div",{staticClass:"row q-col-gutter-md"},t._l(t.data.permissions,(function(e,o){return n("div",{key:o,staticClass:"col-xs-6 col-sm-3"},[n("div",{staticClass:"text-weight-bold"},[t._v(t._s(e.name))]),n("q-tree",{attrs:{nodes:e.children,"node-key":"id","label-key":"name","tick-strategy":"leaf",ticked:t.data.role.permissions,"default-expand-all":""},on:{"update:ticked":function(e){return t.$set(t.data.role,"permissions",e)}}})],1)})),0)])])],2)],1)],n("q-table",{staticClass:"main-table",attrs:{data:t.table.data,columns:t.table.columns,flat:"",bordered:t.bordered,"row-key":"id","hide-pagination":t.hidePagination,"rows-per-page-options":t.rowsPerPageOptions,filter:t.syncPagination.filter,pagination:t.syncPagination,loading:t.loading,selection:"multiple",selected:t.selected},on:{"update:pagination":function(e){t.syncPagination=e},"update:selected":function(e){t.selected=e},request:t.onRequest},scopedSlots:t._u([{key:"top",fn:function(){return[n("div",{staticClass:"col"},[n("div",{staticClass:"row q-col-gutter-md"},[n("div",{staticClass:"col-sm-8 col-xs-12"},[n("q-btn-group",{staticClass:"q-mr-sm",attrs:{outline:""}},[[n("q-btn",{staticClass:"q-pa-sm",attrs:{squared:"",icon:"fal fa-layer-plus",color:"positive",size:"10px"},on:{click:t.onAdd}},[n("tooltip",{attrs:{position:"top"}},[t._v("Add role")])],1),t.syncPagination.deleted?n("q-btn",{staticClass:"q-pa-sm",attrs:{disabled:0==t.selected.length,squared:"",icon:"fal fa-trash-undo",color:"warning",size:"10px"},on:{click:t.onRestoreMulti}},[n("tooltip",{attrs:{position:"top"}},[t._v("Restore selected role")])],1):n("q-btn",{staticClass:"q-pa-sm",attrs:{disabled:0==t.selected.length,squared:"",icon:"delete",color:"negative",size:"10px"},on:{click:t.onDeleteMulti}},[n("tooltip",{attrs:{position:"top"}},[t._v("Delete selected role")])],1)]],2),t.selected?n("q-toggle",{attrs:{"checked-icon":"delete",color:"red",label:"View Deleted"},model:{value:t.syncPagination.deleted,callback:function(e){t.$set(t.syncPagination,"deleted",e)},expression:"syncPagination.deleted"}}):t._e()],1),n("div",{staticClass:"col-sm-4 col-xs-12 text-right"},[n("q-input",{attrs:{outlined:"",square:"",placeholder:"Quick search",hint:"First name / Surname / Email",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[""===t.syncPagination.filter?n("q-icon",{attrs:{name:"fal fa-search",size:"14px"}}):n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"fal fa-times",size:"14px"},on:{click:function(e){t.syncPagination.filter=""}}})]},proxy:!0}]),model:{value:t.syncPagination.filter,callback:function(e){t.$set(t.syncPagination,"filter",e)},expression:"syncPagination.filter"}})],1)])])]},proxy:!0},{key:"body-cell-avatar",fn:function(t){return[n("q-td",{attrs:{props:t}},[n("avatar",{attrs:{role:t.row,size:"30px"}})],1)]}},{key:"body-cell-actions",fn:function(e){return[n("q-td",{attrs:{props:e}},[n("q-btn",{attrs:{flat:"",dense:"",icon:"fal fa-ellipsis-h"}},[n("q-menu",{attrs:{self:"top middle",dense:"",square:""}},[n("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[!t.syncPagination.deleted&&t.permissions.includes("Show")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onView(e.row)}}},[n("q-item-section",[t._v("view")])],1):t._e(),!t.syncPagination.deleted&&t.permissions.includes("Update")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onEdit(e.row)}}},[n("q-item-section",[t._v("edit")])],1):t._e(),!t.syncPagination.deleted&&t.permissions.includes("Destroy")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onDelete(e.row)}}},[n("q-item-section",[t._v("delete")])],1):t._e(),t.syncPagination.deleted&&t.permissions.includes("Destroy")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onRestore(e.row)}}},[n("q-item-section",[t._v("restore")])],1):t._e()],1)],1)],1)],1)]}}])})],2)},a=[],i=(n("d81d"),n("b0c0"),n("ded3")),s=n.n(i),r=n("2f62"),c={data:function(){return{data:{role:{}},selected:[],title:"",visiable:!1,isPwd:!0,isConfPwd:!0,add:!1,edit:!0}},props:{table:{required:!0,type:Object},pagination:{required:!0,type:Object},actions:{required:!1,type:Object,default:function(){return{status:!0,view:!0,edit:!0,delete:!0}}},hidePagination:{required:!1,type:Boolean,default:function(){return!1}},rowsPerPageOptions:{required:!1,type:Array,default:function(){return[15,30,50]}},filter:{required:!1,type:Boolean,default:function(){return!0}},bordered:{required:!1,type:Boolean,default:function(){return!1}},loading:{required:!1,type:Boolean,default:function(){return!1}}},watch:{"syncPagination.deleted":function(t){this.onRequest({pagination:this.syncPagination})}},methods:s()(s()(s()({},Object(r["b"])("role",["Show","Store","Update","Delete","DeleteMulti","Restore","RestoreMulti"])),Object(r["b"])("app",["Modules"])),{},{onRequest:function(t){console.func("components/table/roles:methods.onRequest()",arguments),this.$emit("request",t)},onAdd:function(t){console.func("components/table/roles:methods.onAdd()",arguments),this.title="Add New User",this.data.role={permissions:[]},this.add=!0,this.edit=!0,this.$refs.dialog.show()},onSubmit:function(t){var e=this;console.func("components/table/roles:methods.onSubmit()",arguments),this.Store(this.data.role).then((function(){e.$refs.dialog.hide()})).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))},onView:function(t){var e=this;console.func("components/table/roles:methods.onView()",arguments),this.title="".concat(t.name," Details"),this.add=!1,this.edit=!1,this.Show(t.id).then((function(t){e.data.role=t,e.$refs.dialog.show()}))},onEdit:function(t){var e=this;console.func("components/table/roles:methods.onEdit()",arguments),this.title="Edit ".concat(t.name," Details"),this.add=!1,this.edit=!0,this.Show(t.id).then((function(t){e.data.role=t,e.$refs.dialog.show()}))},onUpdate:function(){var t=this;console.func("components/table/roles:methods.onUpdate()",arguments),this.Update(this.data.role).then((function(){t.$refs.dialog.hide()})).catch((function(e){t.visiable=!1,t.$core.error(e,{title:"Validation Error"})}))},onDelete:function(t){var e=this;console.func("components/table/roles:methods.onDelete()",arguments),this.$core.confirm("Are you sure you want to delete this role?").then((function(){e.Delete(t).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onDeleteMulti:function(t){var e=this;console.func("components/table/roles:methods.onDeleteMulti()",arguments);var n=this.$_.map(this.selected,"id");this.$core.confirm("Are you sure you want to delete the "+n.length+" selected role"+(n.length>1?"s":"")+"?").then((function(){e.DeleteMulti({roles:n}).then((function(){e.selected=[],e.onRequest({pagination:e.syncPagination})})).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onRestore:function(t){var e=this;console.func("components/table/roles:methods.onRestore()",arguments),this.$core.confirm("Are you sure you want to restore this role?").then((function(){e.Restore(t).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onRestoreMulti:function(t){var e=this;console.func("components/table/roles:methods.onRestoreMulti()",arguments);var n=this.$_.map(this.selected,"id");this.$core.confirm("Are you sure you want to restore the "+n.length+" selected role"+(n.length>1?"s":"")+"?").then((function(){e.RestoreMulti({roles:n}).then((function(){e.selected=[],e.onRequest({pagination:e.syncPagination})})).catch((function(t){e.$core.error(t,{title:"Error"})}))}))}}),computed:{syncPagination:{get:function(){return this.pagination},set:function(t){return t}},permissions:function(){return this.$store.getters["app/getPermissions"]("User")}},mounted:function(){var t=this;this.Modules().then((function(e){t.data.permissions=e.permissions,t.data.roles=e.roles}))}},l=c,u=n("2877"),d=n("27f9"),f=n("7f41"),p=n("eaac"),m=n("e7a9"),h=n("9c40"),g=n("9564"),b=n("0016"),v=n("db86"),y=n("4e73"),w=n("1c1c"),q=n("66e5"),x=n("4074"),_=n("7f67"),P=n("eebe"),C=n.n(P),k=Object(u["a"])(l,o,a,!1,null,null,null);e["default"]=k.exports,C()(k,"components",{QInput:d["a"],QTree:f["a"],QTable:p["a"],QBtnGroup:m["a"],QBtn:h["a"],QToggle:g["a"],QIcon:b["a"],QTd:v["a"],QMenu:y["a"],QList:w["a"],QItem:q["a"],QItemSection:x["a"]}),C()(k,"directives",{ClosePopup:_["a"]})},"6ca7":function(t,e){},"6d83":function(t,e){},"88e9":function(t,e,n){"use strict";var o=n("4e1c"),a=n.n(o);a.a},"91c3":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.user.avatar?n("q-avatar",{attrs:{size:t.size,color:"primary","text-color":"white"}},[n("img",{attrs:{src:t.user.avatar}}),t.user.status?n("q-badge",{attrs:{color:"transparent",floating:""}},[n("q-icon",{attrs:{dense:"",round:"",name:"brightness_1",color:"online"==t.user.status?"positive":"grey",size:"10px"}})],1):t._e()],1):n("q-avatar",{attrs:{size:t.size,color:"secondary","text-color":"white"}},[n("span",[t._v(t._s(t.user.name.charAt(0)))]),t.user.status?n("q-badge",{attrs:{color:"transparent",floating:""}},[n("q-icon",{attrs:{dense:"",round:"",name:"brightness_1",color:"online"==t.user.status?"positive":"grey",size:"10px"}})],1):t._e()],1)],1)},a=[],i={props:{user:{required:!0,type:Object},size:{required:!1,type:String,default:"60px"}}},s=i,r=n("2877"),c=n("cb32"),l=n("58a81"),u=n("0016"),d=n("eebe"),f=n.n(d),p=Object(r["a"])(s,o,a,!1,null,null,null);e["default"]=p.exports,f()(p,"components",{QAvatar:c["a"],QBadge:l["a"],QIcon:u["a"]})},9224:function(t){t.exports=JSON.parse('{"a":"0.0.2"}')},a23f:function(t,e,n){"use strict";var o=n("083a"),a=n.n(o);a.a},ae69:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("div",[n("table-dialog",{ref:"dialog",attrs:{height:t.edit?"calc(100vh - 130px)":"100vh",edit:t.edit,add:t.add,loading:t.visiable,title:t.title},on:{submit:t.onSubmit,update:t.onUpdate}},[n("template",{slot:"body"},[n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Label"},model:{value:t.data.contact.label,callback:function(e){t.$set(t.data.contact,"label",e)},expression:"data.contact.label"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"First Name"},model:{value:t.data.contact.first_name,callback:function(e){t.$set(t.data.contact,"first_name",e)},expression:"data.contact.first_name"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Surname"},model:{value:t.data.contact.surname,callback:function(e){t.$set(t.data.contact,"surname",e)},expression:"data.contact.surname"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Role"},model:{value:t.data.contact.role,callback:function(e){t.$set(t.data.contact,"role",e)},expression:"data.contact.role"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Email Address"},model:{value:t.data.contact.email_address,callback:function(e){t.$set(t.data.contact,"email_address",e)},expression:"data.contact.email_address"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Contact Number"},model:{value:t.data.contact.contact_number,callback:function(e){t.$set(t.data.contact,"contact_number",e)},expression:"data.contact.contact_number"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-select",{attrs:{readonly:!t.edit,label:"Location","use-chips":"","use-input":"","map-options":"",options:t.locations,"option-value":"id","option-label":"label","input-debounce":"0","emit-value":""},on:{filter:t.onLocationLoad},model:{value:t.data.contact.location_id,callback:function(e){t.$set(t.data.contact,"location_id",e)},expression:"data.contact.location_id"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-select",{attrs:{readonly:!t.edit,options:[{label:"Yes",value:1},{label:"No",value:0}],"emit-value":"","map-options":"",label:"Default"},model:{value:t.data.contact.default,callback:function(e){t.$set(t.data.contact,"default",e)},expression:"data.contact.default"}})],1),n("div",{staticClass:"col-sm-4 col-xs-12"},[n("q-select",{attrs:{readonly:!t.edit,options:[{label:"Yes",value:1},{label:"No",value:0}],"emit-value":"","map-options":"",label:"Accounts"},model:{value:t.data.contact.accounts,callback:function(e){t.$set(t.data.contact,"accounts",e)},expression:"data.contact.accounts"}})],1)])],2)],1)],n("q-table",{staticClass:"main-table",attrs:{data:t.table.data,columns:t.table.columns,flat:"",bordered:t.bordered,"row-key":"id","hide-pagination":t.hidePagination,"rows-per-page-options":t.rowsPerPageOptions,filter:t.pagination.filter,pagination:t.pagination,loading:t.loading,selection:"multiple",selected:t.selected},on:{"update:pagination":function(e){t.pagination=e},"update:selected":function(e){t.selected=e},request:t.onRequest},scopedSlots:t._u([{key:"top",fn:function(){return[n("div",{staticClass:"col"},[n("div",{staticClass:"row q-col-gutter-md"},[n("div",{staticClass:"col-sm-8 col-xs-12"},[n("q-btn-group",{staticClass:"q-mr-sm",attrs:{outline:""}},[[n("q-btn",{staticClass:"q-pa-sm",attrs:{squared:"",icon:"fal fa-user-plus",color:"positive",size:"10px"},on:{click:t.onAdd}},[n("tooltip",{attrs:{position:"top"}},[t._v("Add contact")])],1),t.pagination.deleted?n("q-btn",{staticClass:"q-pa-sm",attrs:{disabled:0==t.selected.length,squared:"",icon:"fal fa-trash-undo",color:"warning",size:"10px"},on:{click:t.onRestoreMulti}},[n("tooltip",{attrs:{position:"top"}},[t._v("Restore selected contact")])],1):n("q-btn",{staticClass:"q-pa-sm",attrs:{disabled:0==t.selected.length,squared:"",icon:"delete",color:"negative",size:"10px"},on:{click:t.onDeleteMulti}},[n("tooltip",{attrs:{position:"top"}},[t._v("Delete selected contact")])],1)]],2),t.selected?n("q-toggle",{attrs:{"checked-icon":"delete",color:"red",label:"View Deleted"},model:{value:t.pagination.deleted,callback:function(e){t.$set(t.pagination,"deleted",e)},expression:"pagination.deleted"}}):t._e()],1),n("div",{staticClass:"col-sm-4 col-xs-12 text-right"},[n("q-input",{attrs:{outlined:"",square:"",placeholder:"Quick search",hint:"First name / Surname / Email",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[""===t.pagination.filter?n("q-icon",{attrs:{name:"fal fa-search",size:"14px"}}):n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"fal fa-times",size:"14px"},on:{click:function(e){t.pagination.filter=""}}})]},proxy:!0}]),model:{value:t.pagination.filter,callback:function(e){t.$set(t.pagination,"filter",e)},expression:"pagination.filter"}})],1)])])]},proxy:!0},{key:"body-cell-avatar",fn:function(t){return[n("q-td",{attrs:{props:t}},[n("avatar",{attrs:{contact:t.row,size:"30px"}})],1)]}},{key:"body-cell-actions",fn:function(e){return[n("q-td",{attrs:{props:e}},[n("q-btn",{attrs:{flat:"",dense:"",icon:"fal fa-ellipsis-h"}},[n("q-menu",{attrs:{self:"top middle",dense:"",square:""}},[n("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[!t.pagination.deleted&&t.permissions.includes("Show")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onView(e.row)}}},[n("q-item-section",[t._v("view")])],1):t._e(),!t.pagination.deleted&&t.permissions.includes("Update")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onEdit(e.row)}}},[n("q-item-section",[t._v("edit")])],1):t._e(),!t.pagination.deleted&&t.permissions.includes("Destroy")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onDelete(e.row)}}},[n("q-item-section",[t._v("delete")])],1):t._e(),t.pagination.deleted&&t.permissions.includes("Destroy")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onRestore(e.row)}}},[n("q-item-section",[t._v("restore")])],1):t._e()],1)],1)],1)],1)]}}])})],2)},a=[],i=(n("4de4"),n("4160"),n("d81d"),n("a9e3"),n("159b"),n("ded3")),s=n.n(i),r=n("2f62"),c={data:function(){return{data:{contact:{}},loading:!1,table:{columns:[{name:"id",align:"left",label:"ID",field:"id",sortable:!0,style:"width: 30px"},{name:"label",align:"left",label:"Label",field:"label",sortable:!0,style:"width: 100px"},{name:"first_name",align:"left",label:"First Name",field:"first_name",sortable:!0,style:"width: 100px"},{name:"surname",align:"left",label:"Surname",field:"surname",sortable:!0,style:"width: 100px"},{name:"role",align:"left",label:"Role",field:"role",sortable:!0,style:"width: 100px"},{name:"email_address",align:"left",label:"Email Address",field:"email_address",sortable:!0,style:"width: 100px"},{name:"contact_number",align:"left",label:"Contact Number",field:"contact_number",sortable:!0,style:"width: 100px"},{name:"location_id",align:"left",label:"Location",field:"location_id",sortable:!0,style:"width: 100px"},{name:"default",align:"left",label:"Default",field:"default",sortable:!0,style:"width: 100px"},{name:"accounts",align:"left",label:"Accounts",field:"accounts",sortable:!0,style:"width: 100px"},{name:"actions",align:"right",sortable:!1}],data:[]},pagination:{sortBy:"id",descending:!0,page:1,filter:"",deleted:!1,rowsPerPage:15,rowsNumber:15},selected:[],title:"",visiable:!1,add:!1,edit:!0,locations:[]}},props:{customer:{required:!0,type:Number},hidePagination:{required:!1,type:Boolean,default:function(){return!1}},rowsPerPageOptions:{required:!1,type:Array,default:function(){return[15,30,50]}},rowsPerPage:{required:!1,type:Number,default:function(){return 15}},filter:{required:!1,type:Boolean,default:function(){return!0}},bordered:{required:!1,type:Boolean,default:function(){return!1}}},methods:s()(s()({},Object(r["b"])("contact",["List","Show","Store","Update","Delete","DeleteMulti","Restore","RestoreMulti"])),{},{onRequest:function(t){var e=this;console.func("components/table/customer/contacts:methods.onRequest()",arguments);var n=t.pagination,o=n.page,a=n.rowsPerPage,i=n.sortBy,s=n.descending,r=n.deleted,c=n.filter;this.loading=!0,this.List({customer:this.customer,page:o,limit:a,filter:c,order:i,deleted:r,descending:s?"desc":"asc"}).then((function(t){e.table.data=e.tableData,e.pagination.rowsNumber=t.total,e.pagination.page=o,e.pagination.rowsPerPage=a,e.pagination.sortBy=i,e.pagination.descending=s,e.loading=!1}))},onLocationLoad:function(t,e){var n=this;this.$store.dispatch("location/List",{customer:this.customer,filter:t,limit:100}).then((function(t){t.data.forEach((function(t){n.locations.push(t)})),e()}))},onAdd:function(t){console.func("components/table/customer/contacts:methods.onAdd()",arguments),this.title="Add New Contact",this.data.contact={},this.add=!0,this.edit=!0,this.$refs.dialog.show()},onSubmit:function(t){var e=this;console.func("components/table/customer/contacts:methods.onSubmit()",arguments),this.Store({customer:this.customer,contact:this.data.contact}).then((function(){e.$refs.dialog.hide()})).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))},onView:function(t){var e=this;console.func("components/table/customer/contacts:methods.onView()",arguments),this.title="".concat(t.label," Details"),this.add=!1,this.edit=!1,this.Show({customer:this.customer,contact:t}).then((function(t){e.data.contact=t,e.$refs.dialog.show()}))},onEdit:function(t){var e=this;console.func("components/table/customer/contacts:methods.onEdit()",arguments),this.title="Edit ".concat(t.label," Details"),this.add=!1,this.edit=!0,this.Show({customer:this.customer,contact:t}).then((function(t){e.data.contact=t,e.$refs.dialog.show()}))},onUpdate:function(){var t=this;console.func("components/table/customer/contacts:methods.onUpdate()",arguments),this.Update({customer:this.customer,contact:this.data.contact}).then((function(){t.$refs.dialog.hide()})).catch((function(e){t.visiable=!1,t.$core.error(e,{title:"Validation Error"})}))},onDelete:function(t){var e=this;console.func("components/table/customer/contacts:methods.onDelete()",arguments),this.$core.confirm("Are you sure you want to delete this contact?").then((function(){e.Delete({customer:e.customer,contact:t}).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onDeleteMulti:function(t){var e=this;console.func("components/table/customer/contacts:methods.onDeleteMulti()",arguments);var n=this.$_.map(this.selected,"id");this.$core.confirm("Are you sure you want to delete the "+n.length+" selected contact"+(n.length>1?"s":"")+"?").then((function(){e.DeleteMulti({customer:e.customer,contacts:n}).then((function(){e.selected=[],e.onRequest({pagination:e.pagination})})).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onRestore:function(t){var e=this;console.func("components/table/customer/contacts:methods.onRestore()",arguments),this.$core.confirm("Are you sure you want to restore this contact?").then((function(){e.Restore({customer:e.customer,contact:t}).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onRestoreMulti:function(t){var e=this;console.func("components/table/customer/contacts:methods.onRestoreMulti()",arguments);var n=this.$_.map(this.selected,"id");this.$core.confirm("Are you sure you want to restore the "+n.length+" selected contact"+(n.length>1?"s":"")+"?").then((function(){e.RestoreMulti({customer:e.customer,contacts:n}).then((function(){e.selected=[],e.onRequest({pagination:e.pagination})})).catch((function(t){e.$core.error(t,{title:"Error"})}))}))}}),computed:{tableData:function(){return this.$store.state.contact.data},permissions:function(){return this.$store.getters["app/getPermissions"]("Customer")}},watch:{"pagination.deleted":function(t){this.onRequest({pagination:this.pagination})}},mounted:function(){this.pagination.rowsPerPage=this.rowsPerPage,this.pagination.rowsNumber=this.rowsPerPage,this.onRequest({pagination:this.pagination})}},l=c,u=n("2877"),d=n("27f9"),f=n("ddd8"),p=n("eaac"),m=n("e7a9"),h=n("9c40"),g=n("9564"),b=n("0016"),v=n("db86"),y=n("4e73"),w=n("1c1c"),q=n("66e5"),x=n("4074"),_=n("7f67"),P=n("eebe"),C=n.n(P),k=Object(u["a"])(l,o,a,!1,null,null,null);e["default"]=k.exports,C()(k,"components",{QInput:d["a"],QSelect:f["a"],QTable:p["a"],QBtnGroup:m["a"],QBtn:h["a"],QToggle:g["a"],QIcon:b["a"],QTd:v["a"],QMenu:y["a"],QList:w["a"],QItem:q["a"],QItemSection:x["a"]}),C()(k,"directives",{ClosePopup:_["a"]})},b188:function(t,e,n){"use strict";(function(t){n("99af"),n("4de4"),n("4160"),n("c975"),n("e260"),n("a15b"),n("d81d"),n("fb6a"),n("4e82"),n("ace4"),n("b0c0"),n("a9e3"),n("b64b"),n("d3b7"),n("e6cf"),n("ac1f"),n("25f0"),n("3ca3"),n("466d"),n("38cf"),n("5319"),n("1276"),n("498a"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("ddb0"),n("2b3d");var o=n("7037"),a=n.n(o),i=(n("96cf"),n("c973")),s=n.n(i),r=n("9224"),c=n("18d6"),l=n("1732"),u=n("515f"),d=n("b06b"),f=n("2a19"),p=n("a357"),m=n("bd4c");e["a"]={modules:{},init:function(){var e=arguments;return s()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.func("services/core:init()",e),!0!==u["a"].has("qaravel-gdpr-accept")&&f["a"].create({message:"We use cookies to improve user experience, manage user sessions and analyze website traffic. By clicking “Accept” you consent to store on your device all the technologies described in our Cookie Policy. Please read our Terms and Conditions and Privacy Policy for full details by clicking the Learn More button.",multiline:!0,classes:"bg-grey-10",timeout:0,position:"bottom-right",actions:[{label:"Accept",color:"yellow",handler:function(){u["a"].set("qaravel-gdpr-accept",!0,{expires:1825})}},{label:"Learn more",color:"grey",noDismiss:!0,handler:function(){Object(d["a"])(t.env.COOKIE_URL)}}]});case 2:case"end":return n.stop()}}),n)})))()},app:{v:r["a"]},closeDate:function(t){Object.keys(t).forEach((function(e){-1!==e.indexOf("ds_")&&t[e].hide()}))},columns:{options:function(t,e){return t.filter((function(t){return t.data&&t.data.options&&!e[t.data.options]})).map((function(t){return t.data.options}))},table:function(t){return!!t.table&&{name:t.name,field:t.display_field?t.display_field:t.field,required:t.required,label:t.label,align:t.align,sortable:t.sortable,classes:t.classes,headerClasses:t.headerClasses}},view:function(t){return!!t.view&&{name:t.view.name?t.view.name:t.name,field:t.view.field?t.view.field:t.field,label:t.view.label?t.view.label:t.label,align:t.view.align?t.view.align:t.align,tab:t.view.tab?t.view.tab:t.tab,type:t.view.type?t.view.type:t.type?t.type:"text",classes:(t.classes?t.classes:"")+(t.classes&&t.view.classes?" ":"")+(t.view.classes?t.view.classes:""),data:t.data?t.data:{}}},edit:function(t){return!!t.edit&&{name:t.edit.name?t.edit.name:t.name,field:t.edit.field?t.edit.field:t.field,label:t.edit.label?t.edit.label:t.label,align:t.edit.align?t.edit.align:t.align,tab:t.edit.tab?t.edit.tab:t.tab,type:t.edit.type?t.edit.type:t.type?t.type:"text",classes:(t.classes?t.classes:"")+(t.classes&&t.edit.classes?" ":"")+(t.edit.classes?t.edit.classes:""),data:t.data?t.data:{}}},add:function(t){return!!t.add&&{name:t.add.name?t.add.name:t.name,field:t.add.field?t.add.field:t.field,label:t.add.label?t.add.label:t.label,align:t.add.align?t.add.align:t.align,tab:t.add.tab?t.add.tab:t.tab,type:t.add.type?t.add.type:t.type?t.type:"text",classes:(t.classes?t.classes:"")+(t.classes&&t.add.classes?" ":"")+(t.add.classes?t.add.classes:""),data:t.data?t.data:{}}}},confirm:function(t,e){var n=this;return console.func("services/core:confirm()",arguments),new Promise((function(o,i){var s=[];"object"===a()(t)?s.push(t.message):s.push(t),n.Vue.$q.dialog({component:"BaseAlert",msg:s,icon:"warning",title:e&&e.title?e.title:"Please Confirm",ok:{label:"Confirm"},cancel:{label:"Cancel"}}).onOk((function(){o("ok")})).onCancel((function(){i("cancel")}))}))},error:function(t,e){console.func("services/core:error()",arguments);var n=[];"object"===a()(t)?t.errors?Object.keys(t.errors).forEach((function(e){"string"===typeof t.errors[e]?n.push({icon:"exclamation-circle",text:t.errors[e]}):t.errors[e].forEach((function(t){n.push({color:"negative",icon:"exclamation-circle",text:t})}))})):n.push(t.message):n.push(t),this.Vue.$q.dialog({component:"BaseAlert",msg:n,icon:"error",title:e&&e.title?e.title:"Application Error"}).onOk((function(){console.log("OK")}))},random:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},data:function(t,e,n){for(var o=[],a=0;a<=n;a++)o.push(this.random(t,e));return o},slug:function(t){return t.toString().trim().toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")},category:function(t){var e=[];return t.forEach((function(t){e.push(t.name)})),e.join(", ")},wrapCsvValue:function(t,e){var n=void 0!==e?e(t):t;return n=void 0===n||null===n?"":String(n),n=n.split('"').join('""'),'"'.concat(n,'"')},export:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv",a=[t.columns.map((function(t){return n.wrapCsvValue(t.label)}))].concat(t.data.map((function(e){return t.columns.map((function(t){return n.wrapCsvValue("function"===typeof t.field?t.field(e):e[void 0===t.field?t.name:t.field],t.format)})).join(",")}))).join("\r\n"),i=Object(p["a"])(e+"_"+Date.now()+".csv",a,o);!0!==i&&this.$q.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})},b64toBlob:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,o=atob(t),a=[],i=0;i<o.length;i+=n){for(var s=o.slice(i,i+n),r=new Array(s.length),c=0;c<s.length;c++)r[c]=s.charCodeAt(c);var l=new Uint8Array(r);a.push(l)}var u=new Blob(a,{type:e});return u},getBlobURL:function(t){var e=this.b64toBlob(t,"text/plain"),n=URL.createObjectURL(e);return setTimeout((function(){URL.revokeObjectURL(n)}),1e4),n},getDate:function(t){return t&&"string"===typeof t?-1!==t.indexOf("-")?t=m["a"].extractDate(t,"YYYY-MM-DD"):-1!==t.indexOf("/")&&(t=m["a"].extractDate(t,"DD/MM/YYYY")):t&&"string"!==typeof t||(t=new Date),t},length:function(t,e){var n=0;return t&&"undefined"===typeof t.length?Object.keys(t).forEach((function(t){n++})):t&&(n=t.length),n},sort:function(t,e,n){return console.log("core.sort()",arguments),n?t.sort((function(t,n){return t[e]>n[e]?1:n[e]>t[e]?-1:0})):t.sort((function(t,n){return t[e]>n[e]?-1:n[e]>t[e]?1:0}))},humanSize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t<1e3?t+" Bytes":(t=("0".repeat(2*(t+="").length%3)+t).match(/.{3}/g),Number(t[0])+"."+t[1].substring(0,e)+" "+"  kMGTPEZY"[t.length]+"B")},valid:{email:function(t){var e=/^(([^<>()[\]\\.,;:\s@']+(\.[^<>()[\]\\.,;:\s@']+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)}},cookie:function(t,e,n){console.func("services/core:cookie()",arguments);var o="object"===a()(t)?t:{key:t,value:e,days:n};if("undefined"===typeof o.value){var i=document.cookie.match("(^|;) ?"+o.key+"=([^;]*)(;|$)");return i?i[2]:null}var s=new Date;null===o.value?o.days=-1e4:o.days=s.getTime()+24*(isNaN(o.days)?10:o.days)*60*60*1e3,s.setTime(o.days),document.cookie=o.key+"="+o.value+";expires="+s.toUTCString()+";path=/"},formatDate:function(t,e){var n="DD/MM/YYYY";switch(e){case"sql":n="YYYY-MM-DD";break}return t&&"string"===typeof t&&(t=this.getDate(t)),"function"===typeof t.getMonth&&(t=m["a"].formatDate(t,n)),t},localData:function(t,e){console.func("services/core:localData()",arguments);var n="object"===a()(t)?t:{key:t,value:e};if("undefined"===typeof n.value)return c["a"].has(n.key)?c["a"].getItem(n.key):null;null===n.value?c["a"].has(n.key)&&localStorage.removeItem(n.key):c["a"].set(n.key,n.value)},openURL:function(t){console.func("services/core:openURL()",arguments),Object(d["a"])(t)},uid:function(){console.func("services/core:uid()",arguments);var t=c["a"].has("uid")&&c["a"].getItem("uid")?c["a"].getItem("uid"):window.device&&window.device.uuid?window.device.uuid:Object(l["a"])();return c["a"].set("uid",t),t},user:function(t){console.func("services/core:user()",arguments);var e=this.store.state.SessionData.user;return e&&t?e[t]:e}}}).call(this,n("4362"))},ba1e:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"},{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[n("q-item-section",{attrs:{avatar:""}},[n("avatar",{attrs:{user:t.notification.user,size:"40px"}})],1),n("q-item-section",[n("q-item-label",{staticClass:"text-p15",attrs:{caption:""},domProps:{innerHTML:t._s(t.notification.content)}}),n("q-item-label",{staticClass:"text-p12 text-grey-8",attrs:{caption:""}},[t._v(t._s(t.notification.time))])],1)],1)},a=[],i={props:{notification:{required:!0,type:Object}}},s=i,r=n("2877"),c=n("66e5"),l=n("4074"),u=n("0170"),d=n("7f67"),f=n("714f"),p=n("eebe"),m=n.n(p),h=Object(r["a"])(s,o,a,!1,null,null,null);e["default"]=h.exports,m()(h,"components",{QItem:c["a"],QItemSection:l["a"],QItemLabel:u["a"]}),m()(h,"directives",{ClosePopup:d["a"],Ripple:f["a"]})},bd8b:function(t,e,n){},be77:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-dialog",{ref:"dialog",attrs:{persistent:"",maximized:"","transition-show":"slide-up","transition-hide":"slide-down"}},[n("div",{staticClass:"base-table-view"},[n("q-bar",{staticClass:"bg-gm-blue text-white fixed-top toolbar q-pa-lg"},[n("div",{staticClass:"text-weight-bold toolbar-top"},[t._v("\n        "+t._s(t.title)+"\n      ")]),n("q-space"),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[n("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("\n          Close\n        ")])],1)],1),n("q-form",{staticClass:"no-scroll",staticStyle:{position:"initial","padding-top":"50px"},on:{submit:t.onSubmit}},[n("div",{staticClass:"scroll q-pa-lg",style:{height:t.height}},[n("div",{staticClass:"row q-col-gutter-md"},[t._t("body",[n("div",{staticClass:"text-h5"},[t._v("Dialog Body")])])],2),n("q-inner-loading",{attrs:{showing:t.visiable}},[n("q-spinner-tail",{attrs:{size:"50px",color:"primary"}})],1)],1),n("q-separator"),t.edit?n("q-toolbar",{staticClass:"absolute-bottom q-pa-lg"},[n("q-space"),n("q-btn",{staticClass:"q-pl-md q-pr-md q-mr-sm",attrs:{square:"",color:"grey",label:"Cancel"},on:{click:t.onCancel}}),n("q-btn",{staticClass:"q-pl-md q-pr-md",attrs:{square:"",label:"Save",type:"submit",color:"green"}})],1):t._e()],1)],1)])},a=[],i={props:{title:{required:!1,type:String,default:function(){return"Dialog title"}},edit:{required:!0,type:Boolean},add:{required:!0,type:Boolean},loading:{required:!1,type:Boolean,default:function(){return!1}},height:{required:!1,type:String,default:function(){return"100vh"}}},computed:{visiable:{get:function(){return this.loading},set:function(t){return t}}},methods:{show:function(){console.func("components/base/table-dialog:methods.show()",arguments),this.$refs.dialog.show()},hide:function(){console.func("components/base/table-dialog:methods.hide()",arguments),this.$refs.dialog.hide()},onSubmit:function(){console.func("components/base/table-dialog:methods.onSubmit()",arguments),this.visiable=!0,this.edit&&this.add?this.$emit("submit"):this.$emit("update")},onCancel:function(){console.func("components/base/table-dialog:methods.onCancel()",arguments),this.hide()}}},s=i,r=(n("88e9"),n("2877")),c=n("24e8"),l=n("d847"),u=n("2c91"),d=n("9c40"),f=n("05c0"),p=n("0378"),m=n("74f7"),h=n("007d"),g=n("eb85"),b=n("65c6"),v=n("429b"),y=n("7460"),w=n("7f67"),q=n("eebe"),x=n.n(q),_=Object(r["a"])(s,o,a,!1,null,null,null);e["default"]=_.exports,x()(_,"components",{QDialog:c["a"],QBar:l["a"],QSpace:u["a"],QBtn:d["a"],QTooltip:f["a"],QForm:p["a"],QInnerLoading:m["a"],QSpinnerTail:h["a"],QSeparator:g["a"],QToolbar:b["a"],QTabs:v["a"],QTab:y["a"]}),x()(_,"directives",{ClosePopup:w["a"]})},cb89:function(t,e){},cd76:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("div",[n("table-dialog",{ref:"dialog",attrs:{height:t.edit?"calc(100vh - 130px)":"100vh",edit:t.edit,add:t.add,loading:t.visiable,title:t.title},on:{submit:t.onSubmit,update:t.onUpdate}},[n("template",{slot:"body"},[n("div",{staticClass:"text-subtitle1 col-xs-12 text-dark"},[t._v("Essential")]),n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"First Name"},model:{value:t.data.user.first_name,callback:function(e){t.$set(t.data.user,"first_name",e)},expression:"data.user.first_name"}})],1),n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Surname"},model:{value:t.data.user.surname,callback:function(e){t.$set(t.data.user,"surname",e)},expression:"data.user.surname"}})],1),n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Email Address"},model:{value:t.data.user.email,callback:function(e){t.$set(t.data.user,"email",e)},expression:"data.user.email"}})],1),t.add?n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-input",{attrs:{type:t.isPwd?"password":"text",label:"Password",readonly:!t.edit,color:"blue-grey-14"},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"fal fa-eye-slash":"fal fa-eye",size:"16px"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}],null,!1,3490296730),model:{value:t.data.user.password,callback:function(e){t.$set(t.data.user,"password",e)},expression:"data.user.password"}})],1):t._e(),t.add?n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-input",{attrs:{type:t.isConfPwd?"password":"text",label:"Password",readonly:!t.edit,color:"blue-grey-14"},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isConfPwd?"fal fa-eye-slash":"fal fa-eye",size:"16px"},on:{click:function(e){t.isConfPwd=!t.isConfPwd}}})]},proxy:!0}],null,!1,850821982),model:{value:t.data.user.password_confirmation,callback:function(e){t.$set(t.data.user,"password_confirmation",e)},expression:"data.user.password_confirmation"}})],1):t._e(),n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Phone Number"},model:{value:t.data.user.mobile_number,callback:function(e){t.$set(t.data.user,"mobile_number",e)},expression:"data.user.mobile_number"}})],1),n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-input",{attrs:{readonly:!t.edit,rules:["anyColor"],label:"Calendar Colour"},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("q-icon",{style:{color:t.data.user.calendar_color},attrs:{name:"fas fa-square-full"}})]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"colorize"}},[n("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[n("q-color",{attrs:{readonly:!t.edit,"format-model":"hex"},model:{value:t.data.user.calendar_color,callback:function(e){t.$set(t.data.user,"calendar_color",e)},expression:"data.user.calendar_color"}})],1)],1)]},proxy:!0}]),model:{value:t.data.user.calendar_color,callback:function(e){t.$set(t.data.user,"calendar_color",e)},expression:"data.user.calendar_color"}})],1),n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-select",{attrs:{readonly:!t.edit,"use-chips":"","option-value":"id","option-label":"name","map-options":"",multiple:"",options:t.data.roles,label:"Roles"},model:{value:t.data.user.roles,callback:function(e){t.$set(t.data.user,"roles",e)},expression:"data.user.roles"}})],1),n("div",{staticClass:"col-xs-12"},[n("div",{staticClass:"text-subtitle1 text-dark"},[t._v("Employment Details")])]),n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-input",{attrs:{readonly:!t.edit,type:"text",label:"Job Role"},model:{value:t.data.user.job_role,callback:function(e){t.$set(t.data.user,"job_role",e)},expression:"data.user.job_role"}})],1),n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-input",{attrs:{type:"number",step:"0.01",readonly:!t.edit,label:"Hourly Rate Standard"},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"fal fa-pound-sign"}})]},proxy:!0}]),model:{value:t.data.user.hourly_rate_standard,callback:function(e){t.$set(t.data.user,"hourly_rate_standard",e)},expression:"data.user.hourly_rate_standard"}})],1),n("div",{staticClass:"col-xs-12 col-sm-4"},[n("q-input",{attrs:{type:"number",step:"0.01",readonly:!t.edit,label:"Hourly Rate Overtime"},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"fal fa-pound-sign"}})]},proxy:!0}]),model:{value:t.data.user.hourly_rate_overtime,callback:function(e){t.$set(t.data.user,"hourly_rate_overtime",e)},expression:"data.user.hourly_rate_overtime"}})],1),n("div",{staticClass:"col-xs-12"},[n("div",{staticClass:"text-subtitle1 q-mb-sm q-mt-sm text-dark"},[t._v("Permissions")]),n("div",{staticClass:"row q-col-gutter-md"},t._l(t.data.permissions,(function(e,o){return n("div",{key:o,staticClass:"col-xs-6 col-sm-3"},[n("div",{staticClass:"text-weight-bold"},[t._v(t._s(e.name))]),n("q-tree",{attrs:{nodes:e.children,"node-key":"id","label-key":"name","tick-strategy":"leaf",ticked:t.data.user.permissions,"default-expand-all":""},on:{"update:ticked":function(e){return t.$set(t.data.user,"permissions",e)}}})],1)})),0)])])],2)],1)],n("q-table",{staticClass:"main-table",attrs:{data:t.table.data,columns:t.table.columns,flat:"",bordered:t.bordered,"row-key":"id","hide-pagination":t.hidePagination,"rows-per-page-options":t.rowsPerPageOptions,filter:t.syncPagination.filter,pagination:t.syncPagination,loading:t.loading,selection:"multiple",selected:t.selected},on:{"update:pagination":function(e){t.syncPagination=e},"update:selected":function(e){t.selected=e},request:t.onRequest},scopedSlots:t._u([{key:"top",fn:function(){return[n("div",{staticClass:"col"},[n("div",{staticClass:"row q-col-gutter-md"},[n("div",{staticClass:"col-sm-8 col-xs-12"},[n("q-btn-group",{staticClass:"q-mr-sm",attrs:{outline:""}},[[n("q-btn",{staticClass:"q-pa-sm",attrs:{squared:"",icon:"fal fa-user-plus",color:"positive",size:"10px"},on:{click:t.onAdd}},[n("tooltip",{attrs:{position:"top"}},[t._v("Add user")])],1),t.syncPagination.deleted?n("q-btn",{staticClass:"q-pa-sm",attrs:{disabled:0==t.selected.length,squared:"",icon:"fal fa-trash-undo",color:"warning",size:"10px"},on:{click:t.onRestoreMulti}},[n("tooltip",{attrs:{position:"top"}},[t._v("Restore selected user")])],1):n("q-btn",{staticClass:"q-pa-sm",attrs:{disabled:0==t.selected.length,squared:"",icon:"delete",color:"negative",size:"10px"},on:{click:t.onDeleteMulti}},[n("tooltip",{attrs:{position:"top"}},[t._v("Delete selected user")])],1)]],2),t.selected?n("q-toggle",{attrs:{"checked-icon":"delete",color:"red",label:"View Deleted"},model:{value:t.syncPagination.deleted,callback:function(e){t.$set(t.syncPagination,"deleted",e)},expression:"syncPagination.deleted"}}):t._e()],1),n("div",{staticClass:"col-sm-4 col-xs-12 text-right"},[n("q-input",{attrs:{outlined:"",square:"",placeholder:"Quick search",hint:"First name / Surname / Email",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[""===t.syncPagination.filter?n("q-icon",{attrs:{name:"fal fa-search",size:"14px"}}):n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"fal fa-times",size:"14px"},on:{click:function(e){t.syncPagination.filter=""}}})]},proxy:!0}]),model:{value:t.syncPagination.filter,callback:function(e){t.$set(t.syncPagination,"filter",e)},expression:"syncPagination.filter"}})],1)])])]},proxy:!0},{key:"body-cell-avatar",fn:function(t){return[n("q-td",{attrs:{props:t}},[n("avatar",{attrs:{user:t.row,size:"30px"}})],1)]}},{key:"body-cell-actions",fn:function(e){return[n("q-td",{attrs:{props:e}},[n("q-btn",{attrs:{flat:"",dense:"",icon:"fal fa-ellipsis-h"}},[n("q-menu",{attrs:{self:"top middle",dense:"",square:""}},[n("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[!t.syncPagination.deleted&&t.permissions.includes("Show")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onView(e.row)}}},[n("q-item-section",[t._v("view")])],1):t._e(),!t.syncPagination.deleted&&t.permissions.includes("Update")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onEdit(e.row)}}},[n("q-item-section",[t._v("edit")])],1):t._e(),!t.syncPagination.deleted&&t.permissions.includes("Destroy")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onDelete(e.row)}}},[n("q-item-section",[t._v("delete")])],1):t._e(),t.syncPagination.deleted&&t.permissions.includes("Destroy")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onRestore(e.row)}}},[n("q-item-section",[t._v("restore")])],1):t._e()],1)],1)],1)],1)]}}])})],2)},a=[],i=(n("d81d"),n("b0c0"),n("ded3")),s=n.n(i),r=n("2f62"),c={data:function(){return{data:{user:{}},selected:[],title:"",visiable:!1,isPwd:!0,isConfPwd:!0,add:!1,edit:!0}},props:{table:{required:!0,type:Object},pagination:{required:!0,type:Object},actions:{required:!1,type:Object,default:function(){return{status:!0,view:!0,edit:!0,delete:!0}}},hidePagination:{required:!1,type:Boolean,default:function(){return!1}},rowsPerPageOptions:{required:!1,type:Array,default:function(){return[15,30,50]}},filter:{required:!1,type:Boolean,default:function(){return!0}},bordered:{required:!1,type:Boolean,default:function(){return!1}},loading:{required:!1,type:Boolean,default:function(){return!1}}},watch:{"syncPagination.deleted":function(t){this.onRequest({pagination:this.syncPagination})}},methods:s()(s()(s()({},Object(r["b"])("user",["Show","Store","Update","Delete","DeleteMulti","Restore","RestoreMulti"])),Object(r["b"])("app",["Modules"])),{},{onRequest:function(t){console.func("components/table/users:methods.onRequest()",arguments),this.$emit("request",t)},onAdd:function(t){console.func("components/table/users:methods.onAdd()",arguments),this.title="Add New User",this.data.user={permissions:[]},this.add=!0,this.edit=!0,this.$refs.dialog.show()},onSubmit:function(t){var e=this;console.func("components/table/users:methods.onSubmit()",arguments),this.Store(this.data.user).then((function(){e.$refs.dialog.hide()})).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))},onView:function(t){var e=this;console.func("components/table/users:methods.onView()",arguments),this.title="".concat(t.name," Details"),this.add=!1,this.edit=!1,this.Show(t.id).then((function(t){e.data.user=t,e.$refs.dialog.show()}))},onEdit:function(t){var e=this;console.func("components/table/users:methods.onEdit()",arguments),this.title="Edit ".concat(t.name," Details"),this.add=!1,this.edit=!0,this.Show(t.id).then((function(t){e.data.user=t,e.$refs.dialog.show()}))},onUpdate:function(){var t=this;console.func("components/table/users:methods.onUpdate()",arguments),this.Update(this.data.user).then((function(){t.$refs.dialog.hide()})).catch((function(e){t.visiable=!1,t.$core.error(e,{title:"Validation Error"})}))},onDelete:function(t){var e=this;console.func("components/table/users:methods.onDelete()",arguments),this.$core.confirm("Are you sure you want to delete this user?").then((function(){e.Delete(t).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onDeleteMulti:function(t){var e=this;console.func("components/table/users:methods.onDeleteMulti()",arguments);var n=this.$_.map(this.selected,"id");this.$core.confirm("Are you sure you want to delete the "+n.length+" selected user"+(n.length>1?"s":"")+"?").then((function(){e.DeleteMulti({users:n}).then((function(){e.selected=[],e.onRequest({pagination:e.syncPagination})})).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onRestore:function(t){var e=this;console.func("components/table/users:methods.onRestore()",arguments),this.$core.confirm("Are you sure you want to restore this user?").then((function(){e.Restore(t).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onRestoreMulti:function(t){var e=this;console.func("components/table/users:methods.onRestoreMulti()",arguments);var n=this.$_.map(this.selected,"id");this.$core.confirm("Are you sure you want to restore the "+n.length+" selected user"+(n.length>1?"s":"")+"?").then((function(){e.RestoreMulti({users:n}).then((function(){e.selected=[],e.onRequest({pagination:e.syncPagination})})).catch((function(t){e.$core.error(t,{title:"Error"})}))}))}}),computed:{syncPagination:{get:function(){return this.pagination},set:function(t){return t}},permissions:function(){return this.$store.getters["app/getPermissions"]("User")}},mounted:function(){var t=this;this.Modules().then((function(e){t.data.permissions=e.permissions,t.data.roles=e.roles}))}},l=c,u=n("2877"),d=n("27f9"),f=n("0016"),p=n("7cbe"),m=n("b498"),h=n("ddd8"),g=n("7f41"),b=n("eaac"),v=n("e7a9"),y=n("9c40"),w=n("9564"),q=n("db86"),x=n("4e73"),_=n("1c1c"),P=n("66e5"),C=n("4074"),k=n("7f67"),$=n("eebe"),S=n.n($),D=Object(u["a"])(l,o,a,!1,null,null,null);e["default"]=D.exports,S()(D,"components",{QInput:d["a"],QIcon:f["a"],QPopupProxy:p["a"],QColor:m["a"],QSelect:h["a"],QTree:g["a"],QTable:b["a"],QBtnGroup:v["a"],QBtn:y["a"],QToggle:w["a"],QTd:q["a"],QMenu:x["a"],QList:_["a"],QItem:P["a"],QItemSection:C["a"]}),S()(D,"directives",{ClosePopup:k["a"]})},d4fc:function(t,e){},d544:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"left"==t.position?n("q-tooltip",{attrs:{"content-class":"bg-"+t.color,anchor:"center left",self:"center right",offset:[10,10]}},[t._t("default",[t._v("Tooltip instruction")])],2):"right"==t.position?n("q-tooltip",{attrs:{"content-class":"bg-"+t.color,anchor:"center right",self:"center left",offset:[10,10]}},[t._t("default",[t._v("Tooltip instruction")])],2):"bottom"==t.position?n("q-tooltip",{attrs:{"content-class":"bg-"+t.color,anchor:"bottom middle",self:"top middle",offset:[5,5]}},[t._t("default",[t._v("Tooltip instruction")])],2):n("q-tooltip",{attrs:{"content-class":"bg-"+t.color,anchor:"top middle",self:"bottom middle",offset:[5,5]}},[t._t("default",[t._v("Tooltip instruction")])],2)},a=[],i={props:{position:{required:!1,type:String,default:"top"},color:{required:!1,type:String,default:""}}},s=i,r=n("2877"),c=n("05c0"),l=n("eebe"),u=n.n(l),d=Object(r["a"])(s,o,a,!1,null,null,null);e["default"]=d.exports,u()(d,"components",{QTooltip:c["a"]})},dd03:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("div",[n("table-dialog",{ref:"dialog",attrs:{height:t.edit?"calc(100vh - 130px)":"100vh",edit:t.edit,add:t.add,loading:t.visiable,title:t.title},on:{submit:t.onSubmit,update:t.onUpdate}},[n("template",{slot:"body"})],2)],1)],n("q-table",{staticClass:"main-table",attrs:{data:t.data,columns:t.columns,flat:"",bordered:t.bordered,"row-key":"id","hide-pagination":t.hidePagination,"rows-per-page-options":t.rowsPerPageOptions,filter:t.pagination.filter,pagination:t.pagination,loading:t.loading,selection:"multiple",selected:t.selected},on:{"update:pagination":function(e){t.pagination=e},"update:selected":function(e){t.selected=e},request:t.onRequest},scopedSlots:t._u([{key:"top",fn:function(){return[n("div",{staticClass:"col"},[n("div",{staticClass:"row q-col-gutter-md"},[n("div",{staticClass:"col-sm-8 col-xs-12"},[n("q-btn-group",{staticClass:"q-mr-sm",attrs:{outline:""}},[[n("q-btn",{staticClass:"q-pa-sm",attrs:{squared:"",icon:"fal fa-user-plus",color:"positive",size:"10px"},on:{click:t.onAdd}},[n("tooltip",{attrs:{position:"top"}},[t._v("Add activity")])],1),t.pagination.deleted?n("q-btn",{staticClass:"q-pa-sm",attrs:{disabled:0==t.selected.length,squared:"",icon:"fal fa-trash-undo",color:"warning",size:"10px"},on:{click:t.onRestoreMulti}},[n("tooltip",{attrs:{position:"top"}},[t._v("Restore selected activity")])],1):n("q-btn",{staticClass:"q-pa-sm",attrs:{disabled:0==t.selected.length,squared:"",icon:"delete",color:"negative",size:"10px"},on:{click:t.onDeleteMulti}},[n("tooltip",{attrs:{position:"top"}},[t._v("Delete selected activity")])],1)]],2),t.selected?n("q-toggle",{attrs:{"checked-icon":"delete",color:"red",label:"View Deleted"},model:{value:t.pagination.deleted,callback:function(e){t.$set(t.pagination,"deleted",e)},expression:"pagination.deleted"}}):t._e()],1),n("div",{staticClass:"col-sm-4 col-xs-12 text-right"},[n("q-input",{attrs:{outlined:"",square:"",placeholder:"Quick search",hint:"First name / Surname / Email",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[""===t.pagination.filter?n("q-icon",{attrs:{name:"fal fa-search",size:"14px"}}):n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"fal fa-times",size:"14px"},on:{click:function(e){t.pagination.filter=""}}})]},proxy:!0}]),model:{value:t.pagination.filter,callback:function(e){t.$set(t.pagination,"filter",e)},expression:"pagination.filter"}})],1)])])]},proxy:!0},{key:"body-cell-avatar",fn:function(t){return[n("q-td",{attrs:{props:t}},[n("avatar",{attrs:{activity:t.row,size:"30px"}})],1)]}},{key:"body-cell-actions",fn:function(e){return[n("q-td",{attrs:{props:e}},[n("q-btn",{attrs:{flat:"",dense:"",icon:"fal fa-ellipsis-h"}},[n("q-menu",{attrs:{self:"top middle",dense:"",square:""}},[n("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[!t.pagination.deleted&&t.permissions.includes("Show")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onView(e.row)}}},[n("q-item-section",[t._v("view")])],1):t._e(),!t.pagination.deleted&&t.permissions.includes("Update")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onEdit(e.row)}}},[n("q-item-section",[t._v("edit")])],1):t._e(),!t.pagination.deleted&&t.permissions.includes("Destroy")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onDelete(e.row)}}},[n("q-item-section",[t._v("delete")])],1):t._e(),t.pagination.deleted&&t.permissions.includes("Destroy")?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pt-sm q-pb-sm text-weight-bold text-uppercase",staticStyle:{"font-size":"0.7rem"},attrs:{clickable:""},on:{click:function(n){return t.onRestore(e.row)}}},[n("q-item-section",[t._v("restore")])],1):t._e()],1)],1)],1)],1)]}}])})],2)},a=[],i=(n("4de4"),n("d81d"),n("a9e3"),n("ded3")),s=n.n(i),r=n("2f62"),c={data:function(){return{loading:!1,columns:[{name:"id",align:"left",label:"ID",field:"id",sortable:!0,style:"width: 30px"},{name:"label",align:"left",label:"Label",field:"label",sortable:!0,style:"width: 100px"},{name:"actions",align:"right",sortable:!1}],data:[],pagination:{sortBy:"id",descending:!0,page:1,filter:"",deleted:!1,rowsPerPage:15,rowsNumber:15},selected:[],title:"",visiable:!1,add:!1,edit:!0}},props:{customer:{required:!0,type:Number},hidePagination:{required:!1,type:Boolean,default:function(){return!1}},rowsPerPageOptions:{required:!1,type:Array,default:function(){return[15,30,50]}},rowsPerPage:{required:!1,type:Number,default:function(){return 15}},filter:{required:!1,type:Boolean,default:function(){return!0}},bordered:{required:!1,type:Boolean,default:function(){return!1}}},methods:s()(s()({},Object(r["b"])("activity",["List","Show","Store","Update","Delete","DeleteMulti","Restore","RestoreMulti"])),{},{onRequest:function(t){var e=this;console.func("components/table/customer/activities:methods.onRequest()",arguments);var n=t.pagination,o=n.page,a=n.rowsPerPage,i=n.sortBy,s=n.descending,r=n.deleted,c=n.filter;this.loading=!0,this.List({customer:this.customer,page:o,limit:a,filter:c,order:i,deleted:r,descending:s?"desc":"asc"}).then((function(t){e.data=e.tableData,e.pagination.rowsNumber=t.total,e.pagination.page=o,e.pagination.rowsPerPage=a,e.pagination.sortBy=i,e.pagination.descending=s,e.loading=!1}))},onAdd:function(t){console.func("components/table/customer/activities:methods.onAdd()",arguments),this.title="Add New Contact",this.data.activity={type:"Individual"},this.add=!0,this.edit=!0,this.$refs.dialog.show()},onSubmit:function(t){var e=this;console.func("components/table/customer/activities:methods.onSubmit()",arguments),this.Store(this.data.activity).then((function(){e.$refs.dialog.hide()})).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))},onView:function(t){var e=this;console.func("components/table/customer/activities:methods.onView()",arguments),this.title="".concat(t.label," Details"),this.add=!1,this.edit=!1,this.Show(t.id).then((function(t){e.data.activity=t,e.data.parent_company.push(t.parent_company),e.data.referral_source.push(t.referral_source),e.data.account_manager.push(t.account_manager),e.$refs.dialog.show()}))},onEdit:function(t){var e=this;console.func("components/table/customer/activities:methods.onEdit()",arguments),this.title="Edit ".concat(t.label," Details"),this.add=!1,this.edit=!0,this.Show(t.id).then((function(t){e.data.activity=t,e.$refs.dialog.show()}))},onUpdate:function(){var t=this;console.func("components/table/customer/activities:methods.onUpdate()",arguments),this.Update(this.data.activity).then((function(){t.$refs.dialog.hide()})).catch((function(e){t.visiable=!1,t.$core.error(e,{title:"Validation Error"})}))},onDelete:function(t){var e=this;console.func("components/table/customer/activities:methods.onDelete()",arguments),this.$core.confirm("Are you sure you want to delete this activity?").then((function(){e.Delete(t).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onDeleteMulti:function(t){var e=this;console.func("components/table/customer/activities:methods.onDeleteMulti()",arguments);var n=this.$_.map(this.selected,"id");this.$core.confirm("Are you sure you want to delete the "+n.length+" selected activit"+(n.length>1?"ies":"y")+"?").then((function(){e.DeleteMulti({activities:n}).then((function(){e.selected=[],e.onRequest({pagination:e.pagination})})).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onRestore:function(t){var e=this;console.func("components/table/customer/activities:methods.onRestore()",arguments),this.$core.confirm("Are you sure you want to restore this activity?").then((function(){e.Restore(t).catch((function(t){e.$core.error(t,{title:"Validation Error"})}))}))},onRestoreMulti:function(t){var e=this;console.func("components/table/customer/activities:methods.onRestoreMulti()",arguments);var n=this.$_.map(this.selected,"id");this.$core.confirm("Are you sure you want to restore the "+n.length+" selected activit"+(n.length>1?"ies":"y")+"?").then((function(){e.RestoreMulti({activities:n}).then((function(){e.selected=[],e.onRequest({pagination:e.pagination})})).catch((function(t){e.$core.error(t,{title:"Error"})}))}))}}),computed:{tableData:function(){return this.$store.state.activity.data},permissions:function(){return this.$store.getters["app/getPermissions"]("Customer")}},mounted:function(){this.pagination.rowsPerPage=this.rowsPerPage,this.pagination.rowsNumber=this.rowsPerPage,this.onRequest({pagination:this.pagination})}},l=c,u=n("2877"),d=n("eaac"),f=n("e7a9"),p=n("9c40"),m=n("9564"),h=n("27f9"),g=n("0016"),b=n("db86"),v=n("4e73"),y=n("1c1c"),w=n("66e5"),q=n("4074"),x=n("7f67"),_=n("eebe"),P=n.n(_),C=Object(u["a"])(l,o,a,!1,null,null,null);e["default"]=C.exports,P()(C,"components",{QTable:d["a"],QBtnGroup:f["a"],QBtn:p["a"],QToggle:m["a"],QInput:h["a"],QIcon:g["a"],QTd:b["a"],QMenu:v["a"],QList:y["a"],QItem:w["a"],QItemSection:q["a"]}),P()(C,"directives",{ClosePopup:x["a"]})},fbf7:function(t,e){}});